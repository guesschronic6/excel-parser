{"version":3,"sources":["components/enums/Month.ts","components/theme.ts","components/loadprofile/objects/HourlyLoadProfile.ts","components/loadprofile/objects/DailyLoadProfile.ts","components/loadprofile/enums/Feeder.ts","components/common/BillingPeriod.ts","components/loadprofile/objects/LoadProfile_Raw.ts","components/loadprofile/objects/LoadProfile.ts","components/loadprofile/enums/Transformer.ts","components/loadprofile/enums/Substation.ts","components/loadprofile/enums/MeteringPoints.ts","components/toolbar/Toolbar.tsx","components/loadprofile/objects/MonthlyLoadProfile.ts","components/common/Stack.ts","components/loadprofile/LoadProfileContextProvider.tsx","components/toolbar/StyledToggleButton.tsx","components/toolbar/use-styles.ts","components/loadprofile/LoadProfileStorage.ts","components/toolbar/index.ts","components/filesdrawer/use-styles.ts","components/filesdrawer/CustomAccordion.tsx","components/filesdrawer/FileCard.tsx","components/errors/InvalidFileError.ts","components/common/utils/FileUtil.ts","components/loadprofile/ExcelParser.ts","components/settings/Settings.tsx","components/loadprofile/LoadProfileParser.tsx","components/filesdrawer/FileDrop.tsx","components/filesdrawer/loadprofile/LoadProfileAccordion.tsx","components/filesdrawer/index.ts","components/filesdrawer/FilesDrawer.tsx","components/settings/use-styles.ts","components/common/components/textfields/FormTextField.tsx","components/settings/tabpanels/lp-styles.ts","components/settings/tabpanels/LoadProfileSettingsPanel.tsx","components/common/components/tabs/VerticalTab.tsx","components/common/components/tabs/HorizontalTab.tsx","components/settings/index.ts","components/maincontent/loadprofile/data/useTreeItemStyles.ts","components/maincontent/loadprofile/data/StyledTreeItem.tsx","components/maincontent/loadprofile/data/DetailsTree.tsx","components/maincontent/loadprofile/data/HourTreeItem.tsx","components/maincontent/loadprofile/LoadProfileContent.tsx","components/maincontent/loadprofile/data/DayTreeItem.tsx","components/maincontent/loadprofile/data/MonthlyTree.tsx","components/maincontent/loadprofile/data/MonthlyCard.tsx","components/maincontent/loadprofile/data/DataContent.tsx","components/maincontent/loadprofile/graph/GraphContent.tsx","components/maincontent/MainContent.tsx","components/dashboard/Dashboard.tsx","components/dashboard/index.ts","components/App.tsx","components/index.ts","index.js"],"names":["Month","theme","createMuiTheme","palette","primary","main","dark","contrastText","secondary","text","background","default","HourlyLoadProfile","hour","kwdelSet","this","kwdel","fileName","push","filter","length","total","DailyLoadProfile","date","hourlyLoadProfiles","max","sum","buildHourlyLoadProfiles","Array","keys","map","rawData","addKwdel","forEach","hourloadProfile","removeKwdel","maxKwdel","hourlyLoadProfile","getTotalKwdel","Feeder","BillingPeriod","month","year","startDate","enddDate","getStartDate","getEndDate","startMonth","startYear","moment","toDate","billingPeriod","LoadProfile_Raw","day","minute","meteringPoint","row","Date","setDate","getDate","getMonth","getFullYear","billingMonth","getBillingMonth","LoadProfile","dailyLoadProfiles","Map","dateString","has","set","get","addLoadProfileData","dailyLoadProfile","removeLoadProfileData","maxHour","maxDate","values","dailyMax","dailySum","Transformer","key","serialNumber","power","HYOSUNG_20MVA","SHIHLIN_20MVA","SHIHLIN_10MVVA","SHIHLIN_5MVA","NANJING_20MVA","PRIME_MEIDEN_10MVA","NEW_KOREA_10MVA","NEW_KOREA_5MVA","CHANGZHOU_10MVA","SHENDA_25MVA","SubstationItem","transformer","feeders","Substation","substationItems","PUTIK","GUIWAN","TUMAGA","ARENA_BLANCO","PRESA","TETUAN","MERCEDES","NORTHSIDE","ZAMPEN","SANJOSE_GUSU","SAN_JOSE","CALARIAN","BALIWASAN","DEDICATED_LINE","SANGALI","CULIANAN","CURUAN","FISHING_PORT","AYALA","TALISAYAN","LABUAN","RECODO","SINUNUC","CABATANGAN","PASONANCA","SAN_ROQUE","CAMANCHILI","ACLEM","GOVERNOR_ALVAREZ","VETERANS_AVENUE","NUNEZ","STA_CATALINA","RIO_HONDO","GUARDIA_NACIONAL","CAMPANER","MeteringPoint","substations","substation","substationItem","toUpperCase","MF3MPITZAMC01","MF3MPITZAMC02","MF3MPITZAMC03","MF3MPITZAMC04","MF3MPITZAMC05","MF3MPITZAMC06","MF3MPITZAMC07","ToggleValues","MonthlyLoadProfile","loadProfiles","dateStrings","coincidentPeak","nonCoincidentPeak","diversityFactor","loadProfilesMax","loadProfilesSum","totalLoadpRofile","data","Set","add","meteringPoints","loadProfile","removeLoadPRofileData","coincidentKwdel","coincidentMeteringPoint","toString","coincidentDate","coincidentHour","nonCoincidentKwdel","console","log","dailyLp","hourlyLp","genMaxAndSum","dateKey","obj","delete","dlp","hlp","getRawTotal","factor","info","coincidental","nonCoincidental","totalLoadProfile","Stack","stack","top","element","isEmpty","pop","LoadProfileContext","createContext","updateLoadProfiles","rawDatas","monthlyLoadProfiles","working","deleteLoadProfiles","deleteLoadProfileInfo","LoadProfileContextProvider","props","children","useState","setMonthlyLoadProfiles","buffer","setBuffer","setWorking","useEffect","newBuffer","Promise","resolve","reject","newMonthlyLoadProfiles","addData","mlp","initOtherDetails","then","result","mpl","removeData","Provider","value","prevBuffer","newbuffer","deleteLaodProfileInfo","useStyles","makeStyles","root","border","borderRadius","backgroundColor","color","selected","StyledToggleButton","others","classes","ToggleButton","width","height","zIndex","drawer","container","display","flexDirection","justifyContent","alignItems","toggleButtonsContainer","otherButtonsContainer","LoadProfileStorageKey","Toolbar","onFilesToggled","onSettingsToggled","onSettingsUntoggled","onFilesUntoggled","FILES","toggledButton","setToggledButton","NONE","otherToggledButton","setOtherToggledButton","AppBar","elevation","className","position","Box","ToggleButtonGroup","onChange","event","newToggle","method","params","prevToggled","exclusive","Folder","SETTINGS","createStyles","flexShrink","drawerPaper","borderLeft","divider","borderRight","drawerHeader","padding","spacing","mixins","toolbar","content","transition","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","contentShift","easeOut","enteringScreen","accordion","boxShadow","borderBottom","margin","expanded","accordionSummary","marginBottom","minHeight","accordionTitle","fontSize","asdf","accordionDetails","CustomAccordion","expandedPanel","onPanelChange","panelName","title","render","Accordion","square","newExpanded","AccordionSummary","expandIcon","ExpandMore","Typography","AccordionDetails","cardStyles","mobileStepper","maxWidth","boxSizing","paper","shape","overflowWrap","wordWrap","filename","progress_text","alignSelf","gap","progress_content","action","button","textTransform","error_container","error_text","whiteSpace","FileCard","file","progress","progressInfo","errors","onRemoveFile","openError","setOpenError","Fragment","name","LinearProgress","variant","Button","size","startIcon","ErrorOutline","onClick","Dialog","open","onClose","DialogTitle","Divider","DialogContent","overflow","error","index","component","LoadProfileStorage","loadSettings","kwdelCol","Number","localStorage","getItem","KWDEL","dateCol","DATE","timeCol","TIME","dateFormat","DATE_FORMAT","timeFormat","TIME_FORMAT","saveSettings","settings","setItem","String","InvalidFileError","message","Error","a","fileExtension","split","parameteres","fileTypeSplit","reader","FileReader","onload","Uint8Array","target","workbook","XLSX","read","type","cellDates","readAsArrayBuffer","FileUtil","extractWorkbookFromFile","calculatePercent","i","setTimeout","extractCells","worksheet","sheetName","kwdelAddress","c","r","dateAddress","timeAddress","kwdelRef","utils","encode_cell","dateRef","timeRef","kwdelCell","timeCell","dateCell","extractDataFromRow","rowData","kwdelCellData","t","v","w","extractKwdelCellData","dateCellData","x","isValid","extractDateCellData","timeCellData","extractTimeCellData","Boolean","concat","getHours","getMinutes","extractLoadProfileRawFromWorkbook","SettingsTabs","handleProgressUpdate","lp_rawDatas","SheetNames","exists","Sheets","range","decode_range","e","s","totalRows","percent","toFixed","cells","LoadProfileParser","onFileParsed","setProgress","setsProgressInfo","setErrors","setMeteringPoints","catch","fileFromParser","dropZone","cursor","dropZone_focused","dropZone_content","flexWrap","dropZoneText","fontWeight","FileDrop","helperText","onFileDrop","onDragEnter","onDragLeave","onDragOver","dragging","setDragging","handleDragEnter","handleDragLeave","onDrop","getRootProps","getInputProps","onMouseEnter","onMouseLeave","clsx","gridGap","marginTop","LoadProfileAccordion","files","setFiles","loadProfileContext","useContext","prevMap","duplicate","handleFileParsed","lpRawDatas","handleRemoveFile","FilesDrawer","setExpandedPanel","Drawer","anchor","newExpandedPanel","left","title_div","tabs","flexGrow","tab_panel","focused","FormTextField","label","placeholder","helpertext","limitZero","TextField","InputProps","disableUnderline","loadProfileStyles","textFieldContainer","minWidth","actionContainer","LoadProfileSettingsPanel","setKwdel","time","setTime","setDateFormat","setTimeFormat","lpSettings","id","onSubmit","preventDefault","form","tab","textAlign","tab_selected","tab_wrapper","VerticalTab","Tab","wrapper","lineHeight","HorizontalTab","TabPanel","other","role","hidden","aria-labelledby","p","Settings","LoadProfileTab","selectedTab","setSelectedTab","Tabs","orientation","centered","indicatorColor","newTab","FeederDemandTab","useTreeItemStyles","paddingLeft","hover","borderTopRightRadius","borderBottomRightRadius","paddingRight","typography","fontWeightMedium","fontWeightRegular","group","labelRoot","labelIcon","marginRight","labelText","StyledTreeItem","LabelIcon","labelInfo","bgColor","TreeItem","style","DetailsTree","monthlyLoadProfile","TreeView","defaultExpanded","defaultCollapseIcon","ArrowDownward","defaultExpandIcon","ArrowRight","defaultEndIcon","nodeId","TrendingUp","Functions","lpMax","lpSum","labelContent","HourTreeItem","DataTab","treeItemClasses","header","getDailyLoadProfile","DayTree","Today","dayTree","MonthlyTree","CalendarToday","from","DayTreeItem","MonthlyCard","dataContent_content","DataContent","graphContent_root","graphContent_graphsContainer","flex","graphContent","GraphContent","GraphTabPanel","Paper","factory","scaleBand","valueField","argumentField","monthlyLoadpRofile","ContentTabs","loadProfileContent_root","loadProfileContent_Header","loadProfileContent_Title","loadProfileContent_contentWrapper","loadProfileContent_content","LoadProfileContent","DATA","GRAPH","maincontent_root","tabs_container","mainContent_content","MainContent","LOAD_PROFILE","SUBSTATION_REPORT","dashboard_root","dashboard_content","Dashboard","filesDrawerClasses","filesDrawerStyles","openFilesDrawer","setOpenFilesDrawer","openSettings","setOpenSettings","App","ThemeProvider","CssBaseline","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.74f30dbc.chunk.js","sourcesContent":["enum Month {\r\n  JANUARY,\r\n  FEBRUARY,\r\n  MARCH,\r\n  APRIL,\r\n  MAY,\r\n  JUNE,\r\n  JULY,\r\n  AUGUST,\r\n  SEPTEMBER,\r\n  OCTOBER,\r\n  NOVEMBER,\r\n  DECEMBER,\r\n}\r\n\r\nexport default Month;\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#45aaf2\",\r\n      dark: \"#2d98da\",\r\n      contrastText: \"white\",\r\n    },\r\n    secondary: {\r\n      main: \"#fc5c65\",\r\n      dark: \"#eb3b5a\",\r\n      contrastText: \"white\",\r\n    },\r\n    text: {\r\n      primary: \"#778ca3\",\r\n      secondary: \"#B4BEC8\",\r\n    },\r\n    background: {\r\n      default: \"#F5F7F9\",\r\n    },\r\n  },\r\n});\r\n\r\nexport default theme;\r\n","class HourlyLoadProfile {\r\n  hour: number;\r\n  kwdelSet: { fileName: string; kwdel: number }[];\r\n\r\n  constructor(hour: number) {\r\n    this.hour = hour;\r\n    this.kwdelSet = [];\r\n  }\r\n\r\n  addKwdel(kwdel: number, fileName: string): void {\r\n    this.kwdelSet.push({ fileName, kwdel });\r\n  }\r\n\r\n  removeKwdel(fileName: string) {\r\n    this.kwdelSet = this.kwdelSet.filter(\r\n      (kwdel) => kwdel.fileName !== fileName\r\n    );\r\n  }\r\n\r\n  getTotalKwdel(): number {\r\n    if (this.kwdelSet.length <= 0) return 0;\r\n    let total = 0;\r\n    for (let kwdel of this.kwdelSet) {\r\n      total += kwdel.kwdel;\r\n    }\r\n    return total / this.kwdelSet.length;\r\n  }\r\n\r\n  getRawTotal(): number {\r\n    if (this.kwdelSet.length <= 0) return 0;\r\n    let total = 0;\r\n    for (let kwdel of this.kwdelSet) {\r\n      total += kwdel.kwdel;\r\n    }\r\n    return total;\r\n  }\r\n}\r\n\r\nexport default HourlyLoadProfile;\r\n","import LoadProfile_Raw from \"./LoadProfile_Raw\";\r\nimport HourlyLoadProfile from \"./HourlyLoadProfile\";\r\nimport { LoadProfileMax, LoadProfileSum } from \"../types\";\r\n\r\nclass DailyLoadProfile {\r\n  date: Date;\r\n  hourlyLoadProfiles: HourlyLoadProfile[];\r\n  max: { kwdel: number; hour: number };\r\n  sum: number;\r\n\r\n  constructor(date: Date) {\r\n    this.date = date;\r\n    this.hourlyLoadProfiles = this.buildHourlyLoadProfiles();\r\n    this.max = { kwdel: 0, hour: 0 };\r\n    this.sum = 0;\r\n  }\r\n\r\n  private buildHourlyLoadProfiles() {\r\n    return [...Array(24).keys()].map((hour) => {\r\n      return new HourlyLoadProfile(hour);\r\n    });\r\n  }\r\n\r\n  addLoadProfileData(rawData: LoadProfile_Raw) {\r\n    this.hourlyLoadProfiles[rawData.hour].addKwdel(\r\n      rawData.kwdel,\r\n      rawData.fileName\r\n    );\r\n  }\r\n\r\n  removeLoadProfileData(fileName: string) {\r\n    this.hourlyLoadProfiles.forEach((hourloadProfile) => {\r\n      hourloadProfile.removeKwdel(fileName);\r\n    });\r\n  }\r\n\r\n  genMaxAndSum() {\r\n    let maxKwdel = 0;\r\n    let hour = 1;\r\n    let sum = 0;\r\n\r\n    for (let hourlyLoadProfile of this.hourlyLoadProfiles) {\r\n      let kwdel = hourlyLoadProfile.getTotalKwdel();\r\n      sum += kwdel;\r\n      if (kwdel > maxKwdel) {\r\n        hour = hourlyLoadProfile.hour;\r\n        maxKwdel = kwdel;\r\n      }\r\n    }\r\n    this.max = { kwdel: maxKwdel, hour };\r\n    this.sum = sum;\r\n    return { max: this.max, sum: this.sum };\r\n  }\r\n}\r\n\r\nexport default DailyLoadProfile;\r\n","enum Feeder {\r\n  TETUAN,\r\n  MERCEDES,\r\n  NORTHSIDE,\r\n  ZAMPEN,\r\n  GUIWAN,\r\n  TUMAGA,\r\n  ARENA_BLANCO,\r\n  PRESA,\r\n  SAN_JOSE,\r\n  CALARIAN,\r\n  BALIWASAN,\r\n  DEDICATED_LINE,\r\n  INTERCO,\r\n  CULIANAN,\r\n  CURUAN,\r\n  FISHING_PORT,\r\n  TALISAYAN,\r\n  LABUAN,\r\n  RECODO,\r\n  SINUNUC,\r\n  BIG_FISH,\r\n  TIN_CAN_ORIENTAL,\r\n  MEGA_FISHIN_CORP,\r\n  MEGA_FISHIN_CORP2,\r\n  PASONANCA,\r\n  SAN_ROQUE,\r\n  ACLEM,\r\n  GOVERNOR_ALVAREZ,\r\n  VETERANS_AVENUE,\r\n  NUNEZ,\r\n  STA_CATALINA,\r\n  RIO_HONDO,\r\n  GUARDIA_NACIONAL,\r\n  CAMPANER,\r\n  KCC_MALL,\r\n}\r\n\r\nexport default Feeder;\r\n","import moment from \"moment\";\r\nimport { Month } from \"../enums\";\r\n\r\nclass BillingPeriod {\r\n  month: number;\r\n  year: number;\r\n  startDate: Date;\r\n  enddDate: Date;\r\n\r\n  constructor(month: number, year: number) {\r\n    this.month = month;\r\n    this.year = year;\r\n    this.startDate = this.getStartDate();\r\n    this.enddDate = this.getEndDate();\r\n  }\r\n\r\n  private getStartDate() {\r\n    let startMonth = this.month === 1 ? 12 : this.month - 1;\r\n    let startYear = this.month === 1 ? this.year - 1 : this.year;\r\n    return moment(`${startMonth}/26/${startYear}`, \"MM/DD/YYYY\").toDate();\r\n  }\r\n\r\n  private getEndDate() {\r\n    return moment(`${this.month}/25/${this.year}`, \"MM/DD/YYYY\").toDate();\r\n  }\r\n\r\n  equalsTo(billingPeriod: BillingPeriod): boolean {\r\n    if (\r\n      this.month === null ||\r\n      billingPeriod == null ||\r\n      billingPeriod.month === null\r\n    ) {\r\n      return false;\r\n    }\r\n    return (\r\n      this.month === billingPeriod.month && this.year === billingPeriod.year\r\n    );\r\n  }\r\n\r\n  toString() {\r\n    return `${Month[this.month - 1]} ${this.year}`;\r\n  }\r\n}\r\n\r\nexport default BillingPeriod;\r\n","import BillingPeriod from \"../../common/BillingPeriod\";\r\nimport { Month } from \"../../enums\";\r\n\r\nclass LoadProfile_Raw {\r\n  kwdel: number;\r\n  hour: number;\r\n  day: number;\r\n  month: Month;\r\n  year: number;\r\n  minute: number;\r\n  meteringPoint: string;\r\n  row: number;\r\n  billingPeriod: BillingPeriod;\r\n  fileName: string;\r\n\r\n  constructor(\r\n    kwdel: number,\r\n    day: number,\r\n    month: Month,\r\n    year: number,\r\n    hour: number,\r\n    minute: number,\r\n    meteringPoint: string,\r\n    row: number,\r\n    fileName: string = \"\"\r\n  ) {\r\n    this.kwdel = kwdel;\r\n    this.day = day;\r\n    this.hour = hour;\r\n    this.month = month;\r\n    this.year = year;\r\n    this.minute = minute;\r\n    this.meteringPoint = meteringPoint;\r\n    this.row = row;\r\n    this.fileName = fileName;\r\n    if (this.hour === 0 && this.minute === 0) {\r\n      this.hour = 23;\r\n      this.minute = 59;\r\n      if (this.day - 1 <= 0) {\r\n        let date = new Date(`${this.year}/${this.month}/${this.day}`);\r\n        date.setDate(date.getDate() - 1);\r\n        this.day = date.getDate();\r\n        this.month = date.getMonth() + 1;\r\n        this.year = date.getFullYear();\r\n      } else {\r\n        this.day--;\r\n      }\r\n    }\r\n    let billingMonth = this.getBillingMonth({\r\n      month: this.month,\r\n      day: this.day,\r\n      hour: this.hour,\r\n      minute: this.minute,\r\n    });\r\n\r\n    this.billingPeriod = new BillingPeriod(billingMonth, this.year);\r\n\r\n    if (this.minute === 0) {\r\n      this.hour--;\r\n      if (this.hour < 0) {\r\n        this.hour = 23;\r\n      }\r\n    }\r\n  }\r\n\r\n  getBillingMonth({\r\n    month,\r\n    day,\r\n    minute,\r\n    hour,\r\n  }: {\r\n    month: number;\r\n    day: number;\r\n    minute: number;\r\n    hour: number;\r\n  }) {\r\n    let billingMonth = month;\r\n    if (day >= 26) {\r\n      if (!(hour === 0 && minute === 0 && day === 26)) {\r\n        billingMonth = ++billingMonth % 12;\r\n        if (billingMonth === 0) {\r\n          billingMonth = 12;\r\n        }\r\n      }\r\n    }\r\n    return billingMonth;\r\n  }\r\n}\r\n\r\nexport default LoadProfile_Raw;\r\n","import LoadProfile_Raw from \"./LoadProfile_Raw\";\r\nimport DailyLoadProfile from \"./DailyLoadProfile\";\r\nimport { LoadProfileMax, LoadProfileSum } from \"../types\";\r\n\r\nclass LoadProfile {\r\n  meteringPoint: string;\r\n  dailyLoadProfiles: Map<string, DailyLoadProfile>;\r\n  max: LoadProfileMax;\r\n  sum: LoadProfileSum;\r\n\r\n  constructor(meteringPoint: string) {\r\n    this.meteringPoint = meteringPoint;\r\n    this.dailyLoadProfiles = new Map();\r\n    this.max = { kwdel: 0, hour: 1, meteringPoint: \"\", date: new Date() };\r\n    this.sum = { kwdel: 0, meteringPoint: \"\" };\r\n  }\r\n\r\n  addLoadProfileData(rawData: LoadProfile_Raw, dateString: string) {\r\n    if (!this.dailyLoadProfiles.has(dateString)) {\r\n      this.dailyLoadProfiles.set(\r\n        dateString,\r\n        new DailyLoadProfile(new Date(dateString))\r\n      );\r\n    }\r\n    this.dailyLoadProfiles.get(dateString)?.addLoadProfileData(rawData);\r\n  }\r\n\r\n  removeLoadPRofileData(fileName: string) {\r\n    this.dailyLoadProfiles.forEach((dailyLoadProfile) => {\r\n      dailyLoadProfile.removeLoadProfileData(fileName);\r\n    });\r\n  }\r\n\r\n  getDailyLoadProfile(dateString: string): DailyLoadProfile {\r\n    return this.dailyLoadProfiles.has(dateString)\r\n      ? (this.dailyLoadProfiles.get(dateString) as DailyLoadProfile)\r\n      : new DailyLoadProfile(new Date(dateString));\r\n  }\r\n\r\n  genMaxAndSum() {\r\n    let max = 0;\r\n    let sum = 0;\r\n    let maxHour = 1;\r\n    let maxDate = new Date();\r\n\r\n    for (let dailyLoadProfile of this.dailyLoadProfiles.values()) {\r\n      const dailyMax = dailyLoadProfile.max;\r\n      const dailySum = dailyLoadProfile.sum;\r\n      if (dailyMax.kwdel > max) {\r\n        max = dailyMax.kwdel;\r\n        maxHour = dailyMax.hour;\r\n        maxDate = dailyLoadProfile.date;\r\n        sum += dailySum;\r\n      }\r\n    }\r\n\r\n    this.max = {\r\n      kwdel: max,\r\n      hour: maxHour,\r\n      date: maxDate,\r\n      meteringPoint: this.meteringPoint,\r\n    };\r\n    this.sum = { kwdel: sum, meteringPoint: this.meteringPoint };\r\n    return { max: this.max, sum: this.sum };\r\n  }\r\n}\r\n\r\nexport default LoadProfile;\r\n","class Transformer {\r\n  static readonly HYOSUNG_20MVA = new Transformer(\r\n    \"HYOSUNG_20MVA\",\r\n    \"HYOSUNG PTX - 20MVA\",\r\n    \"TP99-8513\",\r\n    20\r\n  );\r\n  static readonly SHIHLIN_20MVA = new Transformer(\r\n    \"SHIHLIN_20MVA\",\r\n    \"SHIHLIN PTX - 20MVA\",\r\n    \"810014\",\r\n    20\r\n  );\r\n  static readonly SHIHLIN_10MVVA = new Transformer(\r\n    \"SHIHLIN_10MVVA \",\r\n    \"SHIHLIN PTX - 10MVA\",\r\n    \"T990113\",\r\n    10\r\n  );\r\n  static readonly SHIHLIN_5MVA = new Transformer(\r\n    \"SHIHLIN_5MVA\",\r\n    \"SHIHLIN PTX - 5MVA\",\r\n    \"\",\r\n    5\r\n  );\r\n  static readonly NANJING_20MVA = new Transformer(\r\n    \"NANJING_20MVA\",\r\n    \"NANJING PTX - 20MVA\",\r\n    \"610205\",\r\n    20\r\n  );\r\n  static readonly PRIME_MEIDEN_10MVA = new Transformer(\r\n    \"PRIME_MEIDEN_10MVA\",\r\n    \"PRIME MEIDEN PTX - 10MVA\",\r\n    \"\",\r\n    10\r\n  );\r\n  static readonly NEW_KOREA_10MVA = new Transformer(\r\n    \"NEW_KOREA_10MVA\",\r\n    \"NEW KOREA PTX - 10MVA\",\r\n    \"W910009\",\r\n    10\r\n  );\r\n  static readonly NEW_KOREA_5MVA = new Transformer(\r\n    \"NEW_KOREA_5MVA\",\r\n    \"NEW KOREA PTX - 5MVA\",\r\n    \"920194\",\r\n    5\r\n  );\r\n  static readonly CHANGZHOU_10MVA = new Transformer(\r\n    \"CHANGZHOU_10MVA\",\r\n    \"CHANGZHOU PTX - 10MVA\",\r\n    \"91-61-146\",\r\n    10\r\n  );\r\n  static readonly SHENDA_25MVA = new Transformer(\r\n    \"SHENDA_25MVA\",\r\n    \"SHENDA PTX - 25MVA\",\r\n    \"\",\r\n    25\r\n  );\r\n\r\n  key: string;\r\n  text: string;\r\n  serialNumber: string;\r\n  power: number;\r\n\r\n  private constructor(\r\n    key: string,\r\n    text: string,\r\n    serialNumber: string,\r\n    power: number\r\n  ) {\r\n    this.key = key;\r\n    this.text = text;\r\n    this.serialNumber = serialNumber;\r\n    this.power = power;\r\n  }\r\n\r\n  toString() {\r\n    return this.key;\r\n  }\r\n}\r\n\r\nexport default Transformer;\r\n","import Feeder from \"./Feeder\";\r\nimport Transformer from \"./Transformer\";\r\n\r\nclass SubstationItem {\r\n  transformer: Transformer;\r\n  feeders: Feeder[];\r\n\r\n  constructor(transformer: Transformer, feeders: Feeder[]) {\r\n    this.transformer = transformer;\r\n    this.feeders = feeders;\r\n  }\r\n}\r\n\r\nclass Substation {\r\n  static readonly PUTIK = new Substation(\"PUTIK\", \"PUTIK S/S\", [\r\n    new SubstationItem(Transformer.SHIHLIN_10MVVA, [\r\n      Feeder.GUIWAN,\r\n      Feeder.TUMAGA,\r\n      Feeder.ARENA_BLANCO,\r\n      Feeder.PRESA,\r\n    ]),\r\n    new SubstationItem(Transformer.HYOSUNG_20MVA, [\r\n      Feeder.TETUAN,\r\n      Feeder.MERCEDES,\r\n      Feeder.NORTHSIDE,\r\n      Feeder.ZAMPEN,\r\n    ]),\r\n  ]);\r\n  static readonly SANJOSE_GUSU = new Substation(\r\n    \"SAN JOSE GUSU\",\r\n    \"SAN JOSE GUSU S/S\",\r\n    [\r\n      new SubstationItem(Transformer.NANJING_20MVA, [\r\n        Feeder.SAN_JOSE,\r\n        Feeder.CALARIAN,\r\n        Feeder.BALIWASAN,\r\n        Feeder.DEDICATED_LINE,\r\n      ]),\r\n      new SubstationItem(Transformer.NEW_KOREA_10MVA, []),\r\n    ]\r\n  );\r\n  static readonly SANGALI = new Substation(\"SANGALI\", \"SANGALI S/S\", [\r\n    new SubstationItem(Transformer.PRIME_MEIDEN_10MVA, [\r\n      Feeder.CULIANAN,\r\n      Feeder.CURUAN,\r\n      Feeder.FISHING_PORT,\r\n    ]),\r\n  ]);\r\n  static readonly AYALA = new Substation(\"AYALA\", \"AYALA S/S\", [\r\n    new SubstationItem(Transformer.SHIHLIN_10MVVA, [\r\n      Feeder.TALISAYAN,\r\n      Feeder.LABUAN,\r\n    ]),\r\n  ]);\r\n\r\n  static readonly RECODO = new Substation(\"RECODO\", \"RECODO S/S\", [\r\n    new SubstationItem(Transformer.NEW_KOREA_10MVA, [Feeder.RECODO]),\r\n    new SubstationItem(Transformer.NEW_KOREA_5MVA, [Feeder.SINUNUC]),\r\n    new SubstationItem(Transformer.SHIHLIN_5MVA, []),\r\n  ]);\r\n  static readonly CABATANGAN = new Substation(\"CABATANGAN\", \"CABATANGAN S/S\", [\r\n    new SubstationItem(Transformer.CHANGZHOU_10MVA, [Feeder.PASONANCA]),\r\n    new SubstationItem(Transformer.PRIME_MEIDEN_10MVA, [Feeder.SAN_ROQUE]),\r\n  ]);\r\n  static readonly CAMANCHILI = new Substation(\"CAMANCHILI\", \"CAMANCHILI S/S\", [\r\n    new SubstationItem(Transformer.SHIHLIN_20MVA, [\r\n      Feeder.ACLEM,\r\n      Feeder.GOVERNOR_ALVAREZ,\r\n      Feeder.VETERANS_AVENUE,\r\n      Feeder.NUNEZ,\r\n    ]),\r\n    new SubstationItem(Transformer.SHENDA_25MVA, [\r\n      Feeder.STA_CATALINA,\r\n      Feeder.RIO_HONDO,\r\n      Feeder.GUARDIA_NACIONAL,\r\n      Feeder.CAMPANER,\r\n    ]),\r\n  ]);\r\n\r\n  key: string;\r\n  text: string;\r\n  substationItems: SubstationItem[];\r\n\r\n  private constructor(\r\n    key: string,\r\n    text: string,\r\n    substationItems: SubstationItem[]\r\n  ) {\r\n    this.key = key;\r\n    this.text = text;\r\n    this.substationItems = substationItems;\r\n  }\r\n\r\n  toStrting() {\r\n    return this.key;\r\n  }\r\n}\r\n\r\nexport default Substation;\r\n","import Feeder from \"./Feeder\";\r\nimport Substation from \"./Substation\";\r\n\r\nclass MeteringPoint {\r\n  static readonly MF3MPITZAMC01 = new MeteringPoint(\"MF3MPITZAMC01\", [\r\n    Substation.PUTIK,\r\n  ]);\r\n\r\n  static readonly MF3MPITZAMC02 = new MeteringPoint(\"MF3MPITZAMC02\", [\r\n    Substation.SANJOSE_GUSU,\r\n  ]);\r\n\r\n  static readonly MF3MPITZAMC03 = new MeteringPoint(\"MF3MPITZAMC03\", [\r\n    Substation.SANGALI,\r\n  ]);\r\n  static readonly MF3MPITZAMC04 = new MeteringPoint(\"MF3MPITZAMC04\", [\r\n    Substation.RECODO,\r\n    Substation.AYALA,\r\n  ]);\r\n  static readonly MF3MPITZAMC05 = new MeteringPoint(\"MF3MPITZAMC05\", [\r\n    Substation.CABATANGAN,\r\n  ]);\r\n  static readonly MF3MPITZAMC06 = new MeteringPoint(\"MF3MPITZAMC06\", []);\r\n  static readonly MF3MPITZAMC07 = new MeteringPoint(\"MF3MPITZAMC07\", [\r\n    Substation.CAMANCHILI,\r\n  ]);\r\n\r\n  key: string;\r\n  substations: Substation[];\r\n\r\n  private constructor(key: string, substations: Substation[]) {\r\n    this.key = key;\r\n    this.substations = substations;\r\n  }\r\n\r\n  toString() {\r\n    return this.key;\r\n  }\r\n\r\n  getFeeders() {\r\n    let feeders: Feeder[] = [];\r\n    for (let substation of this.substations) {\r\n      for (let substationItem of substation.substationItems) {\r\n        feeders = [...feeders, ...substationItem.feeders];\r\n      }\r\n    }\r\n    return feeders;\r\n  }\r\n\r\n  static getMeteringPoint(meteringPoint: string): MeteringPoint | null {\r\n    switch (meteringPoint.toUpperCase()) {\r\n      case this.MF3MPITZAMC01.key:\r\n        return this.MF3MPITZAMC01;\r\n      case this.MF3MPITZAMC02.key:\r\n        return this.MF3MPITZAMC02;\r\n      case this.MF3MPITZAMC03.key:\r\n        return this.MF3MPITZAMC03;\r\n      case this.MF3MPITZAMC04.key:\r\n        return this.MF3MPITZAMC04;\r\n      case this.MF3MPITZAMC05.key:\r\n        return this.MF3MPITZAMC05;\r\n      case this.MF3MPITZAMC06.key:\r\n        return this.MF3MPITZAMC06;\r\n      case this.MF3MPITZAMC07.key:\r\n        return this.MF3MPITZAMC07;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  static exists(meteringPoint: string): boolean {\r\n    switch (meteringPoint) {\r\n      case this.MF3MPITZAMC01.key:\r\n      case this.MF3MPITZAMC02.key:\r\n      case this.MF3MPITZAMC03.key:\r\n      case this.MF3MPITZAMC04.key:\r\n      case this.MF3MPITZAMC05.key:\r\n      case this.MF3MPITZAMC06.key:\r\n      case this.MF3MPITZAMC07.key:\r\n        return true;\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport default MeteringPoint;\r\n","import { AppBar, Box } from \"@material-ui/core\";\r\nimport { Folder, Settings } from \"@material-ui/icons\";\r\nimport { ToggleButtonGroup } from \"@material-ui/lab\";\r\nimport StyledToggleButton from \"./StyledToggleButton\";\r\n\r\nimport useStyles from \"./use-styles\";\r\n\r\nimport React, { useState } from \"react\";\r\n\r\ntype ToolbarProps = {\r\n  onSettingsToggled: () => void;\r\n  onSettingsUntoggled: () => void;\r\n  onFilesToggled: () => void;\r\n  onFilesUntoggled: () => void;\r\n};\r\n\r\nenum ToggleValues {\r\n  FILES = \"files\",\r\n  SETTINGS = \"settings\",\r\n  NONE = \"\",\r\n}\r\n\r\nconst Toolbar: React.FC<ToolbarProps> = ({\r\n  onFilesToggled,\r\n  onSettingsToggled,\r\n  onSettingsUntoggled,\r\n  onFilesUntoggled,\r\n  ...others\r\n}) => {\r\n  const [toggledButton, setToggledButton] = useState<string>(\r\n    ToggleValues.FILES\r\n  );\r\n  const [otherToggledButton, setOtherToggledButton] = useState<string>(\r\n    ToggleValues.NONE\r\n  );\r\n\r\n  function handleToggleChange(\r\n    event: React.MouseEvent<HTMLElement>,\r\n    newToggle: string\r\n  ) {\r\n    console.log({\r\n      method: \"handleToggleChange()\",\r\n      params: { newToggle },\r\n    });\r\n\r\n    const prevToggled = toggledButton;\r\n    setToggledButton(newToggle);\r\n    if (newToggle === ToggleValues.FILES) {\r\n      onFilesToggled();\r\n    } else if (prevToggled === ToggleValues.FILES) {\r\n      onFilesUntoggled();\r\n    }\r\n  }\r\n\r\n  function handleOtherToggleChange(\r\n    event: React.MouseEvent<HTMLElement>,\r\n    newToggle: string\r\n  ) {\r\n    console.log({\r\n      method: \"handleOtherToggleChange()\",\r\n      params: { newToggle },\r\n    });\r\n\r\n    const prevToggled = otherToggledButton;\r\n    setOtherToggledButton(newToggle);\r\n    if (newToggle === ToggleValues.SETTINGS) {\r\n      onSettingsToggled();\r\n    } else if (prevToggled === ToggleValues.SETTINGS) {\r\n      onSettingsUntoggled();\r\n    }\r\n  }\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <AppBar\r\n      elevation={4}\r\n      className={classes.root}\r\n      position=\"static\"\r\n      color=\"inherit\"\r\n    >\r\n      <Box className={classes.container}>\r\n        <Box className={classes.toggleButtonsContainer}>\r\n          <ToggleButtonGroup\r\n            onChange={handleToggleChange}\r\n            value={toggledButton}\r\n            exclusive\r\n          >\r\n            <StyledToggleButton value={ToggleValues.FILES}>\r\n              <Folder />\r\n            </StyledToggleButton>\r\n          </ToggleButtonGroup>\r\n        </Box>\r\n        <Box className={classes.otherButtonsContainer}>\r\n          <ToggleButtonGroup\r\n            onChange={handleOtherToggleChange}\r\n            value={otherToggledButton}\r\n            exclusive\r\n          >\r\n            <StyledToggleButton value={ToggleValues.SETTINGS}>\r\n              <Settings />\r\n            </StyledToggleButton>\r\n          </ToggleButtonGroup>\r\n        </Box>\r\n      </Box>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","import LoadProfile_Raw from \"./LoadProfile_Raw\";\r\nimport LoadProfile from \"./LoadProfile\";\r\nimport BillingPeriod from \"../../common/BillingPeriod\";\r\nimport MeteringPoint from \"../enums/MeteringPoints\";\r\nimport {\r\n  CoincidentalPeak,\r\n  DiversityFactor,\r\n  LoadProfileMax,\r\n  LoadProfileSum,\r\n  NoneCoincidentalPeak,\r\n} from \"../types\";\r\nimport { MonthlyLoadProfileData } from \"../types/MonthlyLoadProfileData\";\r\n\r\nclass MonthlyLoadProfile {\r\n  loadProfiles: Map<string, LoadProfile>;\r\n  billingPeriod: BillingPeriod;\r\n  dateStrings: Set<string>;\r\n  coincidentPeak: CoincidentalPeak | null;\r\n  nonCoincidentPeak: NoneCoincidentalPeak | null;\r\n  diversityFactor: DiversityFactor | null;\r\n  loadProfilesMax: LoadProfileMax[];\r\n  loadProfilesSum: LoadProfileSum[];\r\n  totalLoadpRofile: LoadProfile;\r\n  data: Map<string, any>;\r\n\r\n  constructor(billingPeriod: BillingPeriod) {\r\n    this.billingPeriod = billingPeriod;\r\n    this.loadProfiles = new Map();\r\n    this.dateStrings = new Set();\r\n    this.totalLoadpRofile = new LoadProfile(\"Total\");\r\n    this.coincidentPeak = null;\r\n    this.nonCoincidentPeak = null;\r\n    this.diversityFactor = null;\r\n    this.loadProfilesMax = [];\r\n    this.loadProfilesSum = [];\r\n    this.data = new Map();\r\n  }\r\n\r\n  addData(rawData: LoadProfile_Raw) {\r\n    let key = rawData.meteringPoint;\r\n    let dateString = `${rawData.month}/${rawData.day}/${rawData.year}`;\r\n\r\n    if (!this.dateStrings.has(dateString)) {\r\n      this.dateStrings.add(dateString);\r\n    }\r\n\r\n    if (!this.loadProfiles.has(key)) {\r\n      this.loadProfiles.set(key, new LoadProfile(key));\r\n    }\r\n    this.loadProfiles.get(key)?.addLoadProfileData(rawData, dateString);\r\n  }\r\n\r\n  removeData(fileName: string, meteringPoints: string[]) {\r\n    meteringPoints.forEach((key) => {\r\n      if (this.loadProfiles.has(key)) {\r\n        let loadProfile = this.loadProfiles.get(key);\r\n        loadProfile?.removeLoadPRofileData(fileName);\r\n      }\r\n    });\r\n  }\r\n\r\n  initOtherDetails() {\r\n    let coincidentKwdel = 0;\r\n    let coincidentMeteringPoint = MeteringPoint.MF3MPITZAMC01.toString();\r\n    let coincidentDate = new Date();\r\n    let coincidentHour = 0;\r\n    let nonCoincidentKwdel = 0;\r\n\r\n    this.loadProfilesMax = [];\r\n    this.loadProfilesSum = [];\r\n    this.totalLoadpRofile = new LoadProfile(\"Total\");\r\n    this.data = new Map();\r\n\r\n    for (let loadProfile of this.loadProfiles.values()) {\r\n      console.log(\"METERING POINT: \" + loadProfile.meteringPoint);\r\n      for (let dailyLp of [...loadProfile.dailyLoadProfiles.values()]) {\r\n        for (let hourlyLp of dailyLp.hourlyLoadProfiles) {\r\n          let rawData = new LoadProfile_Raw(\r\n            hourlyLp.getTotalKwdel(),\r\n            dailyLp.date.getDate(),\r\n            dailyLp.date.getMonth() + 1,\r\n            dailyLp.date.getFullYear(),\r\n            hourlyLp.hour,\r\n            3,\r\n            \"Total\",\r\n            0\r\n          );\r\n          let dateString = `${rawData.month}/${rawData.day}/${rawData.year}`;\r\n          this.totalLoadpRofile.addLoadProfileData(rawData, dateString);\r\n        }\r\n\r\n        dailyLp.genMaxAndSum();\r\n        let dateKey = `${\r\n          dailyLp.date.getMonth() + 1\r\n        }/${dailyLp.date.getDate()}`;\r\n\r\n        if (!this.data.has(dateKey)) {\r\n          let obj: any = { date: dateKey };\r\n          obj[`${loadProfile.meteringPoint}`] = dailyLp.sum;\r\n          this.data.set(dateKey, obj);\r\n        } else {\r\n          let obj = this.data.get(dateKey);\r\n          obj[`${loadProfile.meteringPoint}`] = dailyLp.sum;\r\n        }\r\n      }\r\n      const { max, sum } = loadProfile.genMaxAndSum();\r\n\r\n      if (sum.kwdel === 0) {\r\n        this.loadProfiles.delete(loadProfile.meteringPoint);\r\n      } else {\r\n        this.loadProfilesMax.push(max);\r\n        this.loadProfilesSum.push(sum);\r\n        nonCoincidentKwdel += max.kwdel;\r\n      }\r\n    }\r\n\r\n    for (let dlp of this.totalLoadpRofile.dailyLoadProfiles.values()) {\r\n      for (let hlp of dlp.hourlyLoadProfiles) {\r\n        if (hlp.getRawTotal() > coincidentKwdel) {\r\n          coincidentKwdel = hlp.getRawTotal();\r\n          coincidentDate = dlp.date;\r\n          coincidentHour = hlp.hour;\r\n          coincidentMeteringPoint = \"total\";\r\n        }\r\n      }\r\n    }\r\n\r\n    let diversityFactor = nonCoincidentKwdel / coincidentKwdel;\r\n\r\n    this.coincidentPeak = {\r\n      kwdel: coincidentKwdel,\r\n      date: coincidentDate,\r\n      hour: coincidentHour,\r\n      meteringPoint: coincidentMeteringPoint,\r\n    };\r\n    this.nonCoincidentPeak = { kwdel: nonCoincidentKwdel };\r\n    this.diversityFactor = { factor: diversityFactor };\r\n\r\n    console.log({\r\n      info: \"max and sum\",\r\n      max: this.loadProfilesMax,\r\n      sum: this.loadProfilesSum,\r\n      coincidental: this.coincidentPeak,\r\n      nonCoincidental: this.nonCoincidentPeak,\r\n      diversityFactor: this.diversityFactor,\r\n      totalLoadProfile: this.totalLoadpRofile,\r\n      data: this.data,\r\n    });\r\n  }\r\n}\r\n\r\nexport default MonthlyLoadProfile;\r\n","class Stack<T> {\r\n  data: T[];\r\n  top: number;\r\n\r\n  constructor(stack?: Stack<T>) {\r\n    this.data = [];\r\n    this.top = 0;\r\n\r\n    if (stack) {\r\n      this.data = stack.data;\r\n      this.top = stack.top;\r\n    }\r\n  }\r\n\r\n  push(element: T) {\r\n    this.data[this.top] = element;\r\n    this.top = this.top + 1;\r\n  }\r\n\r\n  length() {\r\n    return this.top;\r\n  }\r\n\r\n  peek() {\r\n    return this.data[this.top - 1];\r\n  }\r\n\r\n  isEmpty() {\r\n    return this.top === 0;\r\n  }\r\n\r\n  pop() {\r\n    if (this.isEmpty() === false) {\r\n      this.top = this.top - 1;\r\n      return this.data.pop() as T; // removes the last element\r\n    }\r\n  }\r\n}\r\n\r\nexport default Stack;\r\n","import React, { createContext, useEffect, useState } from \"react\";\r\nimport {\r\n  LoadProfile,\r\n  LoadProfile_Raw,\r\n  MonthlyLoadProfile,\r\n} from \"../loadprofile/objects\";\r\nimport Stack from \"../common/Stack\";\r\n\r\nexport type DeleteLoadpRofileInfo = {\r\n  fileName: string;\r\n  meteringPoints: string[];\r\n};\r\n\r\nconst LoadProfileContext = createContext<{\r\n  updateLoadProfiles: (rawDatas: LoadProfile_Raw[]) => void;\r\n  monthlyLoadProfiles: Map<string, MonthlyLoadProfile>;\r\n  working: boolean;\r\n  deleteLoadProfiles: (deleteLoadProfileInfo: DeleteLoadpRofileInfo) => void;\r\n}>({\r\n  updateLoadProfiles: (rawDatas) => {},\r\n  monthlyLoadProfiles: new Map(),\r\n  working: false,\r\n  deleteLoadProfiles: (deleteLoadProfileInfo) => {},\r\n});\r\n\r\ntype LoadProfileContextProviderProps = {};\r\nconst LoadProfileContextProvider: React.FunctionComponent<LoadProfileContextProviderProps> = (\r\n  props\r\n) => {\r\n  const { children, ...others } = props;\r\n  const [monthlyLoadProfiles, setMonthlyLoadProfiles] = useState(\r\n    new Map<string, MonthlyLoadProfile>()\r\n  );\r\n\r\n  const [buffer, setBuffer] = useState<\r\n    Stack<LoadProfile_Raw[] | DeleteLoadpRofileInfo>\r\n  >(new Stack());\r\n  const [working, setWorking] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"MonthlyLoadProfiles State Updated\");\r\n    console.log(monthlyLoadProfiles);\r\n  }, [monthlyLoadProfiles]);\r\n\r\n  function updateLoadProfiles(rawDatas: LoadProfile_Raw[]) {\r\n    console.log(\"Updating load profile datas in context....\");\r\n\r\n    setBuffer((prevBuffer) => {\r\n      let newbuffer = new Stack(prevBuffer);\r\n      newbuffer.push(rawDatas);\r\n      return newbuffer;\r\n    });\r\n  }\r\n\r\n  function deleteLoadProfiles(deleteLaodProfileInfo: DeleteLoadpRofileInfo) {\r\n    setBuffer((prevBuffer) => {\r\n      let newbuffer = new Stack(prevBuffer);\r\n      newbuffer.push(deleteLaodProfileInfo);\r\n      return newbuffer;\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (working) return;\r\n    if (buffer.isEmpty()) {\r\n      setWorking(false);\r\n      return;\r\n    }\r\n\r\n    let newBuffer = new Stack(buffer);\r\n    let data = newBuffer.pop();\r\n    if (data) {\r\n      setWorking(true);\r\n\r\n      if (data instanceof Array) {\r\n        console.log(\"Data instance of ARRRRAAAAY....\");\r\n        addRawDatasToMonthlyLoadProfiles(data).then((result) => {\r\n          setMonthlyLoadProfiles(result);\r\n          setWorking(false);\r\n          setBuffer(newBuffer);\r\n        });\r\n      } else {\r\n        console.log(\"Data instance of ARRRRAAAAY....\");\r\n        deleteDataFromMonthlyLoadProfiles(\r\n          data.fileName,\r\n          data.meteringPoints\r\n        ).then((result) => {\r\n          setMonthlyLoadProfiles(result);\r\n          setWorking(false);\r\n          setBuffer(newBuffer);\r\n        });\r\n      }\r\n    }\r\n  }, [buffer]);\r\n\r\n  function addRawDatasToMonthlyLoadProfiles(rawDatas: LoadProfile_Raw[]) {\r\n    return new Promise<Map<string, MonthlyLoadProfile>>((resolve, reject) => {\r\n      console.log(\"Processing rawDatas\");\r\n      let newMonthlyLoadProfiles = new Map(monthlyLoadProfiles);\r\n      for (let rawData of rawDatas) {\r\n        let key = `${rawData.billingPeriod.month}-${rawData.year}`;\r\n        if (!newMonthlyLoadProfiles.has(key)) {\r\n          newMonthlyLoadProfiles.set(\r\n            key,\r\n            new MonthlyLoadProfile(rawData.billingPeriod)\r\n          );\r\n        }\r\n        newMonthlyLoadProfiles.get(key)?.addData(rawData);\r\n      }\r\n      newMonthlyLoadProfiles.forEach((mlp) => mlp.initOtherDetails());\r\n      resolve(newMonthlyLoadProfiles);\r\n    });\r\n  }\r\n\r\n  function deleteDataFromMonthlyLoadProfiles(\r\n    fileName: string,\r\n    meteringPoints: string[]\r\n  ) {\r\n    return new Promise<Map<string, MonthlyLoadProfile>>((resolve, reject) => {\r\n      console.log(\"DELETING LAODP ROFILESS\");\r\n      let newMonthlyLoadProfiles = new Map(monthlyLoadProfiles);\r\n      for (let key of newMonthlyLoadProfiles.keys()) {\r\n        let mpl = newMonthlyLoadProfiles.get(key);\r\n        mpl?.removeData(fileName, meteringPoints);\r\n      }\r\n      newMonthlyLoadProfiles.forEach((mlp) => {\r\n        mlp.initOtherDetails();\r\n        if (mlp.nonCoincidentPeak?.kwdel === 0) {\r\n          let key = `${mlp.billingPeriod.month}-${mlp.billingPeriod.year}`;\r\n          newMonthlyLoadProfiles.delete(key);\r\n        }\r\n      });\r\n      resolve(newMonthlyLoadProfiles);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <LoadProfileContext.Provider\r\n      value={{\r\n        updateLoadProfiles,\r\n        monthlyLoadProfiles,\r\n        deleteLoadProfiles,\r\n        working,\r\n      }}\r\n    >\r\n      {children}\r\n    </LoadProfileContext.Provider>\r\n  );\r\n};\r\n\r\nexport default LoadProfileContextProvider;\r\nexport { LoadProfileContext };\r\n","import { makeStyles, Theme } from \"@material-ui/core\";\r\nimport { ToggleButton } from \"@material-ui/lab\";\r\nimport React from \"react\";\r\n\r\ntype StyledToggleButtonProps = {\r\n  value?: string;\r\n};\r\n\r\nconst StyledToggleButton: React.FunctionComponent<StyledToggleButtonProps> = ({\r\n  value,\r\n  children,\r\n  ...others\r\n}) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <ToggleButton classes={{ root: classes.root }} value={value} {...others}>\r\n      {children}\r\n    </ToggleButton>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    border: \"none\",\r\n    borderRadius: 0,\r\n    \"&.Mui-selected\": {\r\n      backgroundColor: theme.palette.background.default,\r\n      color: theme.palette.primary.main,\r\n    },\r\n    \"&:hover, &.Mui-selected:hover\": {\r\n      color: theme.palette.primary.main,\r\n      backgroundColor: theme.palette.background.default,\r\n    },\r\n    selected: {},\r\n  },\r\n}));\r\n\r\nexport default StyledToggleButton;\r\n","import { makeStyles, Theme } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: 50,\r\n    height: \"100%\",\r\n    zIndex: theme.zIndex.drawer + 10,\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n  },\r\n  toggleButtonsContainer: {},\r\n  otherButtonsContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import { LoadProfileSettings } from \"./types/LoadProfileSettings\";\r\nenum LoadProfileStorageKey {\r\n  KWDEL = \"lp_kwdelCol\",\r\n  DATE = \"lp_dateCol\",\r\n  TIME = \"lp_timeCol\",\r\n  DATE_FORMAT = \"lp_dateFormat\",\r\n  TIME_FORMAT = \"lp_timeFormat\",\r\n}\r\n\r\nfunction loadSettings(): LoadProfileSettings {\r\n  let kwdelCol = Number(\r\n    localStorage.getItem(LoadProfileStorageKey.KWDEL) || \"1\"\r\n  );\r\n  let dateCol = Number(localStorage.getItem(LoadProfileStorageKey.DATE) || \"2\");\r\n  let timeCol = Number(localStorage.getItem(LoadProfileStorageKey.TIME) || \"3\");\r\n  let dateFormat =\r\n    localStorage.getItem(LoadProfileStorageKey.DATE_FORMAT) || \"MM/dd/yyyy\";\r\n  let timeFormat =\r\n    localStorage.getItem(LoadProfileStorageKey.TIME_FORMAT) || \"HH:mm\";\r\n  return {\r\n    kwdelCol,\r\n    dateCol,\r\n    timeCol,\r\n    dateFormat,\r\n    timeFormat,\r\n  };\r\n}\r\n\r\nfunction saveSettings(settings: LoadProfileSettings): void {\r\n  if (settings.kwdelCol) {\r\n    localStorage.setItem(\r\n      LoadProfileStorageKey.KWDEL,\r\n      String(settings.kwdelCol)\r\n    );\r\n  }\r\n\r\n  if (settings.timeCol) {\r\n    localStorage.setItem(LoadProfileStorageKey.TIME, String(settings.timeCol));\r\n  }\r\n\r\n  if (settings.dateCol) {\r\n    localStorage.setItem(LoadProfileStorageKey.DATE, String(settings.dateCol));\r\n  }\r\n\r\n  if (settings.dateFormat) {\r\n    localStorage.setItem(\r\n      LoadProfileStorageKey.DATE_FORMAT,\r\n      String(settings.dateFormat)\r\n    );\r\n  }\r\n\r\n  if (settings.timeFormat) {\r\n    localStorage.setItem(\r\n      LoadProfileStorageKey.TIME_FORMAT,\r\n      String(settings.timeFormat)\r\n    );\r\n  }\r\n}\r\n\r\nconst LoadProfileStorage = {\r\n  loadSettings,\r\n  saveSettings,\r\n};\r\n\r\nexport default LoadProfileStorage;\r\n","import Toolbar from \"./Toolbar\";\r\n\r\nexport default Toolbar;\r\n","import { Theme, makeStyles, createStyles } from \"@material-ui/core\";\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      position: \"static\",\r\n      borderLeft: `1px solid ${theme.palette.divider}`,\r\n      borderRight: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    drawerHeader: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      padding: theme.spacing(0, 1),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n      justifyContent: \"flex-end\",\r\n    },\r\n    content: {\r\n      transition: theme.transitions.create(\"margin\", {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      marginLeft: -drawerWidth,\r\n    },\r\n    contentShift: {\r\n      transition: theme.transitions.create(\"margin\", {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n      marginLeft: 0,\r\n    },\r\n  })\r\n);\r\n\r\nexport default useStyles;\r\nexport { drawerWidth };\r\n","import React from \"react\";\r\nimport {\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  Typography,\r\n  makeStyles,\r\n  Theme,\r\n} from \"@material-ui/core\";\r\nimport { ExpandMore } from \"@material-ui/icons\";\r\n\r\ntype CustomAccordionProps = {\r\n  expandedPanel: string;\r\n  onPanelChange: (newPanel: string) => void;\r\n  panelName: string;\r\n  title: string;\r\n  render?: any;\r\n};\r\n\r\nconst CustomAccordion: React.FunctionComponent<CustomAccordionProps> = ({\r\n  expandedPanel,\r\n  onPanelChange,\r\n  panelName,\r\n  title,\r\n  render,\r\n  children,\r\n  ...others\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  function handlePanelChange(\r\n    event: React.ChangeEvent<{}>,\r\n    newExpanded: boolean\r\n  ) {\r\n    onPanelChange(newExpanded ? panelName : \"\");\r\n  }\r\n\r\n  return (\r\n    <Accordion\r\n      className={classes.accordion}\r\n      square\r\n      expanded={expandedPanel === panelName}\r\n      onChange={handlePanelChange}\r\n    >\r\n      <AccordionSummary\r\n        className={classes.accordionSummary}\r\n        expandIcon={<ExpandMore />}\r\n      >\r\n        <Typography className={classes.accordionTitle}>{title}</Typography>\r\n      </AccordionSummary>\r\n      <AccordionDetails className={classes.accordionDetails}>\r\n        {children}\r\n      </AccordionDetails>\r\n    </Accordion>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  accordion: {\r\n    border: \"1px solid rgba(0, 0, 0, .125)\",\r\n    boxShadow: \"none\",\r\n    \"&:not(:last-child)\": {\r\n      borderBottom: 0,\r\n    },\r\n    \"&:before\": {\r\n      display: \"none\",\r\n    },\r\n    \"&$expanded\": {\r\n      margin: \"auto\",\r\n    },\r\n    expanded: {},\r\n  },\r\n\r\n  accordionSummary: {\r\n    borderBottom: \"1px solid rgba(0, 0, 0, .125)\",\r\n    marginBottom: -1,\r\n    minHeight: 30,\r\n    \"&$expanded\": {\r\n      minHeight: 30,\r\n      backgroundColor: \"black\",\r\n    },\r\n    expanded: {},\r\n  },\r\n  content: {\r\n    \"&$expanded\": {\r\n      margin: \"12px 0\",\r\n    },\r\n  },\r\n  accordionTitle: {\r\n    fontSize: \"1rem\",\r\n    asdf: {},\r\n  },\r\n  expanded: {},\r\n  accordionDetails: {\r\n    backgroundColor: theme.palette.background.default,\r\n    padding: \"5px\",\r\n    position: \"relative\",\r\n  },\r\n}));\r\n\r\nexport default CustomAccordion;\r\n","import {\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  LinearProgress,\r\n  makeStyles,\r\n  Theme,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { ErrorOutline } from \"@material-ui/icons\";\r\nimport React, { useState } from \"react\";\r\n\r\ntype FilecardProps = {\r\n  file: File;\r\n  progressInfo: string;\r\n  progress: number;\r\n  errors?: string[];\r\n  onRemoveFile: () => void;\r\n};\r\n\r\nconst FileCard: React.FunctionComponent<FilecardProps> = ({\r\n  file,\r\n  progress,\r\n  progressInfo,\r\n  errors = [],\r\n  onRemoveFile,\r\n  ...others\r\n}) => {\r\n  const classes = cardStyles();\r\n  const [openError, setOpenError] = useState(false);\r\n\r\n  function handleSeeErrorsClick() {\r\n    console.log(errors);\r\n    setOpenError(true);\r\n  }\r\n\r\n  function handleCloseErrorDialog() {\r\n    setOpenError(false);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={classes.root}>\r\n        <div className={classes.content}>\r\n          <Typography className={classes.filename}>{file.name}</Typography>\r\n          <div className={classes.progress_content}>\r\n            <LinearProgress\r\n              value={progress}\r\n              variant={\r\n                progress === 0 || progress === 100\r\n                  ? \"determinate\"\r\n                  : \"indeterminate\"\r\n              }\r\n            />\r\n            <Typography className={classes.progress_text}>\r\n              {progressInfo}\r\n            </Typography>\r\n          </div>\r\n        </div>\r\n        <div className={classes.action}>\r\n          {errors.length !== 0 && (\r\n            <Button\r\n              className={classes.button}\r\n              size=\"small\"\r\n              color=\"secondary\"\r\n              startIcon={<ErrorOutline color=\"error\" />}\r\n              onClick={handleSeeErrorsClick}\r\n            >\r\n              see errors\r\n            </Button>\r\n          )}\r\n          <Button\r\n            className={classes.button}\r\n            onClick={onRemoveFile}\r\n            size=\"small\"\r\n            color=\"primary\"\r\n          >\r\n            Remove\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <Dialog open={openError} onClose={handleCloseErrorDialog}>\r\n        <DialogTitle>\r\n          <Typography variant=\"h6\" color=\"error\">\r\n            Errors\r\n          </Typography>\r\n          <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n            {file.name}\r\n          </Typography>\r\n          <Divider />\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Box overflow=\"auto\" padding=\"5px 25px\">\r\n            {errors.map((error, index) => {\r\n              return (\r\n                <div key={index} className={classes.error_container}>\r\n                  <Typography\r\n                    component=\"p\"\r\n                    className={classes.error_text}\r\n                    key={`${index}~error`}\r\n                  >\r\n                    {error}\r\n                  </Typography>\r\n                  <Divider />\r\n                </div>\r\n              );\r\n            })}\r\n          </Box>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst cardStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    zIndex: theme.zIndex.mobileStepper,\r\n    maxWidth: \"100%\",\r\n    fontSize: \"0.8rem\",\r\n    boxSizing: \"border-box\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    borderRadius: theme.shape.borderRadius,\r\n    border: `1px solid ${theme.palette.divider}`,\r\n    padding: 10,\r\n    overflowWrap: \"break-word\",\r\n    wordWrap: \"break-word\",\r\n  },\r\n  filename: {\r\n    fontSize: \"1em\",\r\n    color: theme.palette.text.primary,\r\n  },\r\n  progress_text: {\r\n    fontSize: \"0.7em\",\r\n    color: theme.palette.text.secondary,\r\n    alignSelf: \"flex-end\",\r\n  },\r\n  content: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"5px\",\r\n    justifyContent: \"center\",\r\n  },\r\n  progress_content: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"3px\",\r\n  },\r\n  action: {},\r\n  button: {\r\n    textTransform: \"none\",\r\n  },\r\n  error_container: {\r\n    maxWidth: \"100%\",\r\n  },\r\n  error_text: {\r\n    fontSize: \"0.9rem\",\r\n    padding: \"10px 5px\",\r\n    whiteSpace: \"pre-wrap\",\r\n  },\r\n}));\r\n\r\nexport default FileCard;\r\n","class InvalidFileError extends Error {\r\n  constructor(message: string) {\r\n    super(message);\r\n  }\r\n}\r\n\r\nexport default InvalidFileError;\r\n","import { WorkBook } from \"xlsx/types\";\r\nimport XLSX from \"xlsx\";\r\nimport InvalidFileError from \"../../errors/InvalidFileError\";\r\n\r\nasync function extractWorkbookFromFile(file: File): Promise<WorkBook> {\r\n  return new Promise<WorkBook>((resolve, reject) => {\r\n    console.log(\"FileUTils: Timeout wait for 10 secs....\");\r\n    let fileExtension: string = file.name.split(\".\")[1];\r\n    console.log({\r\n      method: \"extractWorkbookFromFile()\",\r\n      parameteres: { file },\r\n      fileTypeSplit: file.name.split(\".\"),\r\n      fileExtension,\r\n    });\r\n\r\n    if (fileExtension !== \"xlsx\") {\r\n      reject(\r\n        new InvalidFileError(\r\n          `Invalid file: expected: .xlsx received: ${fileExtension}`\r\n        )\r\n      );\r\n    }\r\n\r\n    let reader = new FileReader();\r\n    reader.onload = function (event: ProgressEvent<FileReader>) {\r\n      try {\r\n        let data = new Uint8Array(event.target?.result as ArrayBuffer);\r\n        let workbook = XLSX.read(data, { type: \"array\", cellDates: true });\r\n        resolve(workbook);\r\n      } catch (error) {\r\n        reject(new Error(error));\r\n      }\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n}\r\n\r\nconst FileUtil = {\r\n  extractWorkbookFromFile,\r\n};\r\n\r\nexport default FileUtil;\r\n","import XLSX from \"xlsx\";\r\nimport { LoadProfileStorage } from \".\";\r\nimport { LoadProfileSettings } from \"./types/LoadProfileSettings\";\r\nimport { LoadProfile_Raw } from \"./objects\";\r\nimport moment from \"moment\";\r\nimport { CellObject, WorkBook, WorkSheet } from \"xlsx/types\";\r\nimport MeteringPoint from \"./enums/MeteringPoints\";\r\n\r\ntype LoadProfileRowData = {\r\n  kwdelCell: CellObject;\r\n  dateCell: CellObject;\r\n  timeCell: CellObject;\r\n  row: number;\r\n  sheetName: string;\r\n};\r\n\r\nfunction extractLoadProfileRawFromWorkbook(\r\n  fileName: string,\r\n  workbook: WorkBook,\r\n  handleProgressUpdate: (progressInfo: string, progress: number) => void\r\n) {\r\n  return new Promise<{\r\n    value: LoadProfile_Raw[];\r\n    errors: string[];\r\n    meteringPoints: string[];\r\n  }>(async (resolve, reject) => {\r\n    if (workbook === null) {\r\n      reject(new Error(\"Invalid file\"));\r\n      return;\r\n    }\r\n    console.log(\"Parsing workbook...\");\r\n\r\n    let lp_rawDatas: LoadProfile_Raw[] = [];\r\n    let errors: string[] = [];\r\n    let meteringPoints: string[] = [];\r\n\r\n    for (let sheetName of workbook.SheetNames) {\r\n      if (!MeteringPoint.exists(sheetName)) {\r\n        errors.push(\r\n          `Invalid sheetname: ${sheetName}, expected: MF3MPITZAMC01~7`\r\n        );\r\n        continue;\r\n      }\r\n      meteringPoints.push(sheetName);\r\n\r\n      handleProgressUpdate(`Parsing ${sheetName}`, 0);\r\n      console.log(\"Parsing worksheet: \" + sheetName);\r\n\r\n      const worksheet = workbook.Sheets[sheetName];\r\n      const range = XLSX.utils.decode_range(worksheet[\"!ref\"] as string);\r\n      const totalRows = await Promise.resolve(range.e.r - range.s.r);\r\n      for (let row = 0; row <= range.e.r; row++) {\r\n        const percent = await calculatePercent(row, totalRows);\r\n        handleProgressUpdate(\r\n          `Processing rows ${row}/${totalRows} ${percent.toFixed(0)}%`,\r\n          percent\r\n        );\r\n        try {\r\n          let settings = LoadProfileStorage.loadSettings();\r\n          let cells = extractCells(worksheet, row, sheetName, settings);\r\n          let rawData = extractDataFromRow(cells, settings, fileName);\r\n\r\n          lp_rawDatas.push(rawData);\r\n        } catch (e) {\r\n          errors.push(e.message);\r\n        }\r\n      }\r\n    }\r\n    console.log(\"finished\");\r\n    handleProgressUpdate(\"Finished processing\", 100);\r\n    resolve({ value: lp_rawDatas, errors, meteringPoints });\r\n  });\r\n}\r\n\r\nfunction calculatePercent(i: number, total: number): Promise<number> {\r\n  return new Promise<number>((resolve, reject) => {\r\n    setTimeout(() => {\r\n      resolve((i / total) * 100);\r\n    }, 0);\r\n  });\r\n}\r\n\r\n//Extracts the load profile raw data from the row,\r\nfunction extractCells(\r\n  worksheet: WorkSheet,\r\n  row: number,\r\n  sheetName: string,\r\n  settings: LoadProfileSettings\r\n): LoadProfileRowData {\r\n  //Builds the raw cell location {column, row}\r\n  let kwdelAddress = { c: settings.kwdelCol, r: row };\r\n  let dateAddress = { c: settings.dateCol, r: row };\r\n  let timeAddress = { c: settings.timeCol, r: row };\r\n\r\n  //Builds the encoded cell location {\"A1\", \"B2\"} to extract from worksheet\r\n  let kwdelRef = XLSX.utils.encode_cell(kwdelAddress);\r\n  let dateRef = XLSX.utils.encode_cell(dateAddress);\r\n  let timeRef = XLSX.utils.encode_cell(timeAddress);\r\n\r\n  return {\r\n    kwdelCell: worksheet[kwdelRef],\r\n    timeCell: worksheet[timeRef],\r\n    dateCell: worksheet[dateRef],\r\n    row,\r\n    sheetName: sheetName,\r\n  };\r\n}\r\n\r\nfunction extractDataFromRow(\r\n  rowData: LoadProfileRowData,\r\n  settings: LoadProfileSettings,\r\n  fileName: string\r\n): LoadProfile_Raw {\r\n  let error = null;\r\n  let anyErrors = false;\r\n  let rawData: LoadProfile_Raw | null = null;\r\n\r\n  let kwdelCellData = extractKwdelCellData(rowData.kwdelCell);\r\n  let dateCellData = extractDateCellData(rowData.dateCell, settings.dateFormat);\r\n  let timeCellData = extractTimeCellData(rowData.timeCell, settings.timeFormat);\r\n\r\n  anyErrors = Boolean(\r\n    kwdelCellData.error || dateCellData.error || timeCellData.error\r\n  );\r\n  if (anyErrors) {\r\n    error = `Errors in row ${rowData.row + 1}:\\n`;\r\n    if (kwdelCellData.error) error = error.concat(`\\t${kwdelCellData.error}\\n`);\r\n    if (dateCellData.error) error = error.concat(`\\t${dateCellData.error}\\n`);\r\n    if (timeCellData.error) error = error.concat(`\\t${timeCellData.error}\\n`);\r\n\r\n    throw new Error(error);\r\n  } else {\r\n    let kwdel = kwdelCellData.value as number;\r\n    let day = dateCellData.value?.getDate() as number;\r\n    let month = dateCellData.value?.getMonth() as number;\r\n    let hour = timeCellData.value?.getHours() as number;\r\n    let minute = timeCellData.value?.getMinutes() as number;\r\n    let year = dateCellData.value?.getFullYear() as number;\r\n    rawData = new LoadProfile_Raw(\r\n      kwdel,\r\n      day,\r\n      month + 1,\r\n      year,\r\n      hour,\r\n      minute,\r\n      rowData.sheetName,\r\n      rowData.row,\r\n      fileName\r\n    );\r\n  }\r\n\r\n  // console.log(`row: ${rawData.row} ${rawData.hour}:${rawData.minute}`);\r\n  return rawData;\r\n}\r\n\r\nfunction extractKwdelCellData(\r\n  kwdelCell: CellObject\r\n): { error: string | null; value: number | null } {\r\n  let error = null;\r\n  let value = null;\r\n  if (!(kwdelCell.t === \"n\" || Number(kwdelCell.v || kwdelCell.w))) {\r\n    error = `KwdelCell expectations: number received: ${kwdelCell.v}`;\r\n  } else {\r\n    value = Number(kwdelCell.v || kwdelCell.r);\r\n  }\r\n  return { error, value };\r\n}\r\n\r\nfunction extractDateCellData(\r\n  dateCell: CellObject,\r\n  dateFormat: string\r\n): { error: string | null; value: Date | null } {\r\n  let error: string | null = null;\r\n  let value = null;\r\n  let x: any = null;\r\n  // console.log({\r\n  //   dateCell_t: dateCell.t,\r\n  //   dateCell_w: dateCell.w,\r\n  //   dateCell_r: dateCell.r,\r\n  // });\r\n\r\n  if (dateCell.t !== \"d\") {\r\n    if (dateCell.t === \"s\") {\r\n      x = moment(dateCell.v || dateCell.w || dateCell.r, dateFormat, true);\r\n      if (!x.isValid()) {\r\n        error = `DateCell expectations: date received: ${dateCell.v}`;\r\n      } else {\r\n        value = x.toDate();\r\n      }\r\n    } else {\r\n      error = `DateCell expectations: date received: ${dateCell.v}`;\r\n    }\r\n  } else {\r\n    value = dateCell.v as Date;\r\n  }\r\n\r\n  return { error, value };\r\n}\r\n\r\nfunction extractTimeCellData(\r\n  timeCell: CellObject,\r\n  timeFormat: string\r\n): { error: string | null; value: Date | null } {\r\n  let error: string | null = null;\r\n  let value = null;\r\n  let x: any = null;\r\n  if (timeCell.t !== \"d\") {\r\n    if (timeCell.t === \"s\") {\r\n      x = moment(timeCell.v || timeCell.w || timeCell.r, timeFormat);\r\n      if (!x.isValid()) {\r\n        error = `TimeCell expectations: date received: ${timeCell.v}`;\r\n      } else {\r\n        value = x.toDate();\r\n      }\r\n    } else {\r\n      error = `TimeCell expectations: date received: ${timeCell.v}`;\r\n    }\r\n  } else {\r\n    value = timeCell.v as Date;\r\n  }\r\n\r\n  return { error, value };\r\n}\r\n\r\nexport default extractLoadProfileRawFromWorkbook;\r\n","import { Tabs, Typography, Box } from \"@material-ui/core\";\r\nimport React, { ChangeEvent, useState } from \"react\";\r\nimport useStyles from \"./use-styles\";\r\nimport { LoadProfileSettingsPanel } from \"./tabpanels\";\r\nimport { VerticalTab } from \"../common/components/tabs\";\r\n\r\ntype SettingsProps = {};\r\n\r\nenum SettingsTabs {\r\n  LoadProfileTab = \"lp_tab\",\r\n  FeederDemandTab = \"fd_tab\",\r\n}\r\n\r\ninterface TabPanelProps {\r\n  children?: React.ReactNode;\r\n  index: any;\r\n  value: any;\r\n}\r\n\r\nfunction TabPanel(props: TabPanelProps) {\r\n  const { children, value, index, ...other } = props;\r\n  const classes = useStyles();\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-prevent-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-prevent-tab-${index}`}\r\n      className={classes.tab_panel}\r\n      {...other}\r\n    >\r\n      {value === index && <Box p={3}>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Settings: React.FunctionComponent<SettingsProps> = ({ ...others }) => {\r\n  const [selectedTab, setSelectedTab] = useState<string>(\r\n    SettingsTabs.LoadProfileTab\r\n  );\r\n\r\n  const classes = useStyles();\r\n\r\n  function handleTabChange(event: ChangeEvent<{}>, newTab: string) {\r\n    setSelectedTab(newTab);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.title_div}>\r\n        <Typography className={classes.title}>Settings</Typography>\r\n      </div>\r\n      <div className={classes.content}>\r\n        <Tabs\r\n          className={classes.tabs}\r\n          orientation=\"vertical\"\r\n          value={selectedTab}\r\n          centered={false}\r\n          indicatorColor=\"primary\"\r\n          onChange={handleTabChange}\r\n        >\r\n          <VerticalTab\r\n            label=\"Load Profile Settings\"\r\n            value={SettingsTabs.LoadProfileTab}\r\n          />\r\n          <VerticalTab\r\n            value={SettingsTabs.FeederDemandTab}\r\n            label=\"Feeder and Demand Settings\"\r\n          />\r\n        </Tabs>\r\n        <TabPanel value={selectedTab} index={SettingsTabs.LoadProfileTab}>\r\n          <LoadProfileSettingsPanel />\r\n        </TabPanel>\r\n        <div>{selectedTab === SettingsTabs.LoadProfileTab && <></>}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { FileUtil } from \"../common/utils\";\r\nimport { LoadProfile_Raw } from \"./objects\";\r\nimport extractLoadProfileRawFromWorkbook from \"./ExcelParser\";\r\n\r\ntype LoadProfileParserProps = {\r\n  file: File;\r\n  render?: any;\r\n  onFileParsed: (data: LoadProfile_Raw[]) => void;\r\n  onRemoveFile: (file: File, meteringPointss: string[]) => void;\r\n};\r\n\r\nexport type LoadProfileParserRenderProps = {\r\n  progress: number;\r\n  progressInfo: string;\r\n  fileFromParser: File;\r\n  errors: string[];\r\n  onRemoveFile: () => void;\r\n};\r\n\r\nconst LoadProfileParser: React.FunctionComponent<LoadProfileParserProps> = ({\r\n  file,\r\n  render,\r\n  onFileParsed,\r\n  onRemoveFile,\r\n  ...others\r\n}) => {\r\n  const [progress, setProgress] = useState<number>(0);\r\n  const [progressInfo, setsProgressInfo] = useState<string>(\"\");\r\n  const [errors, setErrors] = useState<string[]>([]);\r\n  const [meteringPoints, setMeteringPoints] = useState<string[]>([]);\r\n\r\n  useEffect(() => {\r\n    FileUtil.extractWorkbookFromFile(file)\r\n      .then((workbook) => {\r\n        return extractLoadProfileRawFromWorkbook(\r\n          file.name,\r\n          workbook,\r\n          handleProgressUpdate\r\n        );\r\n      })\r\n      .then((result) => {\r\n        setErrors(result.errors);\r\n        handleFileParsed(result.value);\r\n        setMeteringPoints((meteringPoint) => [\r\n          ...meteringPoint,\r\n          ...result.meteringPoints,\r\n        ]);\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        errors.push(e.message);\r\n      });\r\n  }, []);\r\n\r\n  function handleFileParsed(lp_rawDatas: LoadProfile_Raw[]) {\r\n    onFileParsed(lp_rawDatas);\r\n  }\r\n\r\n  function handleProgressUpdate(info: string, percent: number) {\r\n    setProgress(percent);\r\n    setsProgressInfo(info);\r\n  }\r\n\r\n  function handleRemoveFile() {\r\n    onRemoveFile(file, meteringPoints);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {render({\r\n        progress,\r\n        progressInfo,\r\n        fileFromParser: file,\r\n        errors,\r\n        onRemoveFile: handleRemoveFile,\r\n      })}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default LoadProfileParser;\r\n","import { Box, Typography, makeStyles, Theme } from \"@material-ui/core\";\r\nimport clsx from \"clsx\";\r\nimport React, { useState } from \"react\";\r\nimport Dropzone from \"react-dropzone\";\r\n\r\ntype FileDropProps = {\r\n  onFileDrop: (files: File[]) => void;\r\n  onDragEnter: () => void;\r\n  onDragLeave: () => void;\r\n  onDragOver?: () => void;\r\n  helperText: string;\r\n};\r\n\r\nconst FileDrop: React.FunctionComponent<FileDropProps> = ({\r\n  helperText = \"\",\r\n  onFileDrop,\r\n  onDragEnter,\r\n  onDragLeave,\r\n  onDragOver = () => {},\r\n  children,\r\n  ...others\r\n}) => {\r\n  const [dragging, setDragging] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  function handleDragEnter() {\r\n    setDragging(true);\r\n    onDragEnter();\r\n  }\r\n\r\n  function handleDragLeave() {\r\n    setDragging(false);\r\n    onDragLeave();\r\n  }\r\n\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"column\" width=\"100%\">\r\n      <Dropzone\r\n        onDrop={onFileDrop}\r\n        onDragEnter={handleDragEnter}\r\n        onDragLeave={handleDragLeave}\r\n      >\r\n        {({ getRootProps, getInputProps }) => (\r\n          <section\r\n            onMouseEnter={handleDragEnter}\r\n            onMouseLeave={handleDragLeave}\r\n            className={clsx(classes.dropZone, {\r\n              [classes.dropZone_focused]: dragging,\r\n            })}\r\n          >\r\n            <div\r\n              {...getRootProps({ className: `${classes.dropZone_content}` })}\r\n            >\r\n              <input {...getInputProps()} />\r\n              <Typography\r\n                variant=\"subtitle1\"\r\n                color=\"textSecondary\"\r\n                className={classes.dropZoneText}\r\n              >\r\n                {helperText}\r\n              </Typography>\r\n            </div>\r\n          </section>\r\n        )}\r\n      </Dropzone>\r\n      <Box\r\n        display=\"flex\"\r\n        flexDirection=\"column\"\r\n        maxWidth=\"100%\"\r\n        gridGap={5}\r\n        marginTop={1}\r\n      >\r\n        {children}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  dropZone: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    cursor: \"pointer\",\r\n    minHeight: 50,\r\n  },\r\n  dropZone_focused: {\r\n    border: `2px dashed ${theme.palette.text.secondary}`,\r\n  },\r\n  dropZone_content: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    maxWidth: \"100%\",\r\n    gap: \"10px\",\r\n    flexWrap: \"wrap\",\r\n    margin: 5,\r\n  },\r\n  dropZoneText: {\r\n    fontSize: \"0.8rem\",\r\n    fontWeight: \"bold\",\r\n    padding: \"5px\",\r\n  },\r\n}));\r\n\r\nexport default FileDrop;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport CustomAccordion from \"../CustomAccordion\";\r\nimport FileCard from \"../FileCard\";\r\nimport { LoadProfileParser } from \"../../loadprofile\";\r\nimport { LoadProfile_Raw } from \"../../loadprofile/objects\";\r\nimport { LoadProfileContext } from \"../../loadprofile/LoadProfileContextProvider\";\r\nimport FileDrop from \"../FileDrop\";\r\nimport { LoadProfileParserRenderProps } from \"../../loadprofile/LoadProfileParser\";\r\n\r\ntype LoadProfileAccordionProps = {\r\n  expandedPanel: string;\r\n  onPanelChange: (newPanel: string) => void;\r\n};\r\nconst panelName = \"laodprofile_filespanel\";\r\nconst title = \"Load Profile Files\";\r\n\r\nconst LoadProfileAccordion: React.FunctionComponent<LoadProfileAccordionProps> = ({\r\n  expandedPanel,\r\n  onPanelChange,\r\n  ...others\r\n}) => {\r\n  const [files, setFiles] = useState<Map<string, File>>(new Map());\r\n  const loadProfileContext = useContext(LoadProfileContext);\r\n\r\n  useEffect(() => {\r\n    console.log(\"New File Added...\");\r\n  }, [files, setFiles]);\r\n\r\n  async function handleFileDrop(files: File[]) {\r\n    files.forEach((file: File) => {\r\n      //Set the files...IF dupplicate, returns\r\n      setFiles((prevMap) => {\r\n        if (!prevMap.has(file.name)) {\r\n          const duplicate = new Map(prevMap);\r\n          duplicate.set(file.name, file);\r\n          return duplicate;\r\n        } else {\r\n          return prevMap;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  function handleDragEnter() {}\r\n\r\n  function handleDragLeave() {}\r\n\r\n  function handleFileParsed(lpRawDatas: LoadProfile_Raw[]) {\r\n    loadProfileContext.updateLoadProfiles(lpRawDatas);\r\n  }\r\n\r\n  function handleRemoveFile(file: File, meteringPoints: string[]) {\r\n    setFiles((prevMap) => {\r\n      const duplicate = new Map(prevMap);\r\n      duplicate.delete(file.name);\r\n      return duplicate;\r\n    });\r\n\r\n    loadProfileContext.deleteLoadProfiles({\r\n      fileName: file.name,\r\n      meteringPoints,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <CustomAccordion\r\n      onPanelChange={onPanelChange}\r\n      title={title}\r\n      panelName={panelName}\r\n      expandedPanel={expandedPanel}\r\n    >\r\n      <FileDrop\r\n        onDragEnter={handleDragEnter}\r\n        onDragLeave={handleDragLeave}\r\n        onFileDrop={handleFileDrop}\r\n        helperText=\"Drop files here\"\r\n      >\r\n        {[...files.values()].map((file) => {\r\n          return (\r\n            <LoadProfileParser\r\n              onFileParsed={handleFileParsed}\r\n              key={file.name}\r\n              file={file}\r\n              onRemoveFile={handleRemoveFile}\r\n              render={({\r\n                progress,\r\n                progressInfo,\r\n                fileFromParser,\r\n                onRemoveFile,\r\n                errors,\r\n              }: LoadProfileParserRenderProps) => (\r\n                <FileCard\r\n                  progress={progress}\r\n                  progressInfo={progressInfo}\r\n                  file={fileFromParser}\r\n                  errors={errors}\r\n                  onRemoveFile={onRemoveFile}\r\n                />\r\n              )}\r\n            />\r\n          );\r\n        })}\r\n      </FileDrop>\r\n    </CustomAccordion>\r\n  );\r\n};\r\n\r\nexport default LoadProfileAccordion;\r\nexport { panelName };\r\n","import FilesDrawer from \"./FilesDrawer\";\r\nimport useStyles, { drawerWidth } from \"./use-styles\";\r\n\r\nexport default FilesDrawer;\r\nexport { drawerWidth, useStyles };\r\n","import { Drawer } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport useStyles from \"./use-styles\";\r\n\r\nimport { LoadProfileAccordion, loadProfilePanelName } from \"./loadprofile\";\r\n\r\ntype FilesDrawerProps = {\r\n  open: boolean;\r\n};\r\n\r\nconst FilesDrawer: React.FunctionComponent<FilesDrawerProps> = ({\r\n  open,\r\n  ...others\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const [expandedPanel, setExpandedPanel] = useState<string>(\r\n    loadProfilePanelName\r\n  );\r\n\r\n  function handlePanelChange(newExpandedPanel: string) {\r\n    setExpandedPanel(newExpandedPanel);\r\n  }\r\n\r\n  return (\r\n    <Drawer\r\n      variant=\"persistent\"\r\n      open={open}\r\n      anchor=\"left\"\r\n      className={classes.drawer}\r\n      classes={{ paper: classes.drawerPaper }}\r\n    >\r\n      <LoadProfileAccordion\r\n        onPanelChange={handlePanelChange}\r\n        expandedPanel={expandedPanel}\r\n      />\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default FilesDrawer;\r\n","import { makeStyles, Theme } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    background: theme.palette.background.paper,\r\n    padding: theme.spacing(3),\r\n    fontSize: \"1rem\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    zIndex: theme.zIndex.mobileStepper,\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n  },\r\n  title_div: {\r\n    borderBottom: `1px solid ${theme.palette.divider}`,\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(5),\r\n    fontSize: \"1.3em\",\r\n  },\r\n  tabs: {\r\n    display: \"inline-block\",\r\n  },\r\n  content: {\r\n    marginTop: theme.spacing(5),\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n  },\r\n  tab_panel: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import { makeStyles, TextField, Theme } from \"@material-ui/core\";\r\nimport React, { ChangeEvent } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    fontSize: \"1em\",\r\n    border: `1px solid ${theme.palette.divider}`,\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: theme.palette.background.paper,\r\n    \"&.Mui-focused\": {\r\n      backgroundColor: theme.palette.background.default,\r\n      border: `1px solid ${theme.palette.primary.main}`,\r\n    },\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.background.default,\r\n    },\r\n    focused: {},\r\n  },\r\n}));\r\n\r\ntype FormTextFieldProps = {\r\n  value?: string | number;\r\n  name?: string;\r\n  label?: string;\r\n  placeholder?: string;\r\n  helpertext?: string;\r\n  error?: boolean;\r\n  type?: string;\r\n  limitZero?: boolean;\r\n  onChange?: (\r\n    event: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => void;\r\n};\r\n\r\nconst FormTextField: React.FunctionComponent<FormTextFieldProps> = ({\r\n  label,\r\n  value = \"\",\r\n  name = \"\",\r\n  placeholder = \"\",\r\n  helpertext = \"\",\r\n  error = false,\r\n  type = \"text\",\r\n  onChange = (event) => {},\r\n  limitZero = true,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  function handleChange(\r\n    event: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) {\r\n    if (type === \"number\" && Number(event.target.value) < 0) {\r\n      return;\r\n    } else {\r\n      onChange(event);\r\n    }\r\n  }\r\n  return (\r\n    <TextField\r\n      variant=\"filled\"\r\n      label={label}\r\n      value={value}\r\n      name={name}\r\n      placeholder={placeholder}\r\n      error={error}\r\n      helperText={helpertext}\r\n      type={type}\r\n      InputProps={{\r\n        disableUnderline: true,\r\n        classes: { root: classes.root },\r\n      }}\r\n      margin=\"dense\"\r\n      onChange={handleChange}\r\n    />\r\n  );\r\n};\r\n\r\nexport default FormTextField;\r\n","import { makeStyles, Theme } from \"@material-ui/core\";\r\n\r\nconst loadProfileStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  textFieldContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"10px\",\r\n    width: \"50%\",\r\n    minWidth: \"300px\",\r\n    fontSize: \"0.9rem\",\r\n  },\r\n  actionContainer: {\r\n    marginTop: 10,\r\n  },\r\n}));\r\n\r\nexport default loadProfileStyles;\r\n","import React, { ChangeEvent, FormEvent, useEffect, useState } from \"react\";\r\nimport { FormTextField } from \"../../common/components/textfields\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { LoadProfileStorage } from \"../../loadprofile\";\r\nimport loadProfileStyles from \"./lp-styles\";\r\n\r\ntype LoadProfileSettingsProps = {};\r\n\r\nconst LoadProfileSettingsPanel: React.FunctionComponent<LoadProfileSettingsProps> = ({\r\n  ...others\r\n}) => {\r\n  const classes = loadProfileStyles();\r\n  const [kwdel, setKwdel] = useState(0);\r\n  const [date, setDate] = useState(0);\r\n  const [time, setTime] = useState(0);\r\n  const [dateFormat, setDateFormat] = useState(\"\");\r\n  const [timeFormat, setTimeFormat] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let lpSettings = LoadProfileStorage.loadSettings();\r\n    setKwdel(lpSettings.kwdelCol);\r\n    setDateFormat(lpSettings.dateFormat);\r\n    setDate(lpSettings.dateCol);\r\n    setTime(lpSettings.timeCol);\r\n    setTimeFormat(lpSettings.timeFormat);\r\n  }, []);\r\n\r\n  function handleKwdelChange(\r\n    event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) {\r\n    setKwdel(Number(event.target.value));\r\n  }\r\n\r\n  function handleDateChange(\r\n    event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) {\r\n    setDate(Number(event.target.value));\r\n  }\r\n\r\n  function handleTimeChange(\r\n    event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) {\r\n    setTime(Number(event.target.value));\r\n  }\r\n\r\n  function handleDateFormatChange(\r\n    event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) {\r\n    setDateFormat(event.target.value);\r\n  }\r\n\r\n  function handleTimeFormatChange(\r\n    event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) {\r\n    setTimeFormat(event.target.value);\r\n  }\r\n  function handleSubmit(event: FormEvent<HTMLFormElement>) {\r\n    event.preventDefault();\r\n    LoadProfileStorage.saveSettings({\r\n      kwdelCol: kwdel,\r\n      timeCol: time,\r\n      dateCol: date,\r\n      dateFormat,\r\n      timeFormat,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <form\r\n        id=\"settings-form\"\r\n        className={classes.textFieldContainer}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <FormTextField\r\n          label=\"Kwdel Column#\"\r\n          placeholder=\"Kwdel Column#\"\r\n          value={kwdel}\r\n          type=\"number\"\r\n          onChange={handleKwdelChange}\r\n        />\r\n        <FormTextField\r\n          label=\"Date Column#\"\r\n          placeholder=\"Date Column#\"\r\n          value={date}\r\n          type=\"number\"\r\n          onChange={handleDateChange}\r\n        />\r\n        <FormTextField\r\n          label=\"Time Column#\"\r\n          placeholder=\"Time Column#\"\r\n          value={time}\r\n          type=\"number\"\r\n          onChange={handleTimeChange}\r\n        />\r\n        <FormTextField\r\n          label=\"Date Format\"\r\n          placeholder=\"Date Format\"\r\n          value={dateFormat}\r\n          onChange={handleDateFormatChange}\r\n        />\r\n        <FormTextField\r\n          label=\"Time Format\"\r\n          placeholder=\"Time Format\"\r\n          value={timeFormat}\r\n          onChange={handleTimeFormatChange}\r\n        />\r\n      </form>\r\n      <div className={classes.actionContainer}>\r\n        <Button form=\"settings-form\" type=\"submit\" color=\"primary\">\r\n          Save\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadProfileSettingsPanel;\r\n","import { makeStyles, Tab, Theme } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\ntype VerticalTabProps = {\r\n  label: string;\r\n  value: string;\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  tab: {\r\n    textAlign: \"start\",\r\n    textTransform: \"none\",\r\n    fontWeight: \"normal\",\r\n    fontSize: \"0.9em\",\r\n    borderRight: `1px solid ${theme.palette.divider}`,\r\n  },\r\n  tab_selected: {\r\n    backgroundColor: theme.palette.background.default,\r\n    color: theme.palette.primary.main,\r\n    fontWeight: \"bold\",\r\n  },\r\n  tab_wrapper: {\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n}));\r\n\r\nconst VerticalTab: React.FunctionComponent<VerticalTabProps> = ({\r\n  label,\r\n  value,\r\n  ...others\r\n}) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Tab\r\n      classes={{\r\n        root: classes.tab,\r\n        wrapper: classes.tab_wrapper,\r\n        selected: classes.tab_selected,\r\n      }}\r\n      value={value}\r\n      label={label}\r\n      {...others}\r\n    />\r\n  );\r\n};\r\n\r\nexport default VerticalTab;\r\n","import { makeStyles, Tab, Theme } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\ntype HorizontalTabProps = {\r\n  label: string;\r\n  value: string;\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  tab: {\r\n    textAlign: \"start\",\r\n    textTransform: \"none\",\r\n    fontWeight: \"normal\",\r\n    fontSize: \"0.9em\",\r\n    borderBottom: `1px solid ${theme.palette.divider}`,\r\n    padding: 0,\r\n    minWidth: \"100px\",\r\n    lineHeight: 0,\r\n  },\r\n  tab_selected: {\r\n    backgroundColor: theme.palette.background.default,\r\n    color: theme.palette.primary.main,\r\n    fontWeight: \"bold\",\r\n  },\r\n  tab_wrapper: {},\r\n}));\r\n\r\nconst HorizontalTab: React.FunctionComponent<HorizontalTabProps> = ({\r\n  label,\r\n  value,\r\n  ...others\r\n}) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Tab\r\n      classes={{\r\n        root: classes.tab,\r\n        wrapper: classes.tab_wrapper,\r\n        selected: classes.tab_selected,\r\n      }}\r\n      value={value}\r\n      label={label}\r\n      {...others}\r\n    />\r\n  );\r\n};\r\n\r\nexport default HorizontalTab;\r\n","import Settings from \"./Settings\";\r\n\r\nexport default Settings;\r\n","import { makeStyles, Theme, createStyles } from \"@material-ui/core\";\r\n\r\nconst useTreeItemStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      paddingLeft: theme.spacing(3),\r\n\r\n      color: theme.palette.text.primary,\r\n      \"&:hover > $content\": {\r\n        backgroundColor: theme.palette.action.hover,\r\n      },\r\n      \"&:focus > $content, &$selected > $content\": {\r\n        color: theme.palette.primary.main,\r\n      },\r\n      \"&:focus > $content $label, &:hover > $content $label, &$selected > $content $label\": {\r\n        backgroundColor: \"transparent\",\r\n      },\r\n    },\r\n    content: {\r\n      color: theme.palette.text.primary,\r\n      borderTopRightRadius: theme.spacing(2),\r\n      borderBottomRightRadius: theme.spacing(2),\r\n      paddingRight: theme.spacing(1),\r\n      fontWeight: theme.typography.fontWeightMedium,\r\n      \"$expanded > &\": {\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n      },\r\n    },\r\n    group: {\r\n      marginLeft: 0,\r\n      \"& $content\": {\r\n        paddingLeft: theme.spacing(2),\r\n      },\r\n    },\r\n    expanded: {},\r\n    selected: {},\r\n    label: {\r\n      fontWeight: \"inherit\",\r\n      color: \"inherit\",\r\n    },\r\n    labelRoot: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      gap: `${theme.spacing(2)}px`,\r\n      padding: theme.spacing(0.5, 1),\r\n    },\r\n    labelIcon: {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n    labelText: {\r\n      fontWeight: \"normal\",\r\n      flexGrow: 0,\r\n    },\r\n  })\r\n);\r\n\r\nexport default useTreeItemStyles;\r\n","import { SvgIconProps, Typography } from \"@material-ui/core\";\r\nimport { TreeItemProps, TreeItem } from \"@material-ui/lab\";\r\nimport React from \"react\";\r\nimport useTreeItemStyles from \"./useTreeItemStyles\";\r\n\r\ndeclare module \"csstype\" {\r\n  interface Properties {\r\n    \"--tree-view-color\"?: string;\r\n    \"--tree-view-bg-color\"?: string;\r\n  }\r\n}\r\n\r\ntype StyledTreeItemProps = TreeItemProps & {\r\n  bgColor?: string;\r\n  color?: string;\r\n  labelIcon: React.ElementType<SvgIconProps>;\r\n  labelInfo?: string;\r\n  labelText: string;\r\n};\r\n\r\nfunction StyledTreeItem(props: StyledTreeItemProps) {\r\n  const classes = useTreeItemStyles();\r\n  const {\r\n    labelText,\r\n    labelIcon: LabelIcon,\r\n    labelInfo,\r\n    color,\r\n    bgColor,\r\n    ...other\r\n  } = props;\r\n\r\n  return (\r\n    <TreeItem\r\n      label={\r\n        <div className={classes.labelRoot}>\r\n          <LabelIcon color=\"inherit\" className={classes.labelIcon} />\r\n          <Typography variant=\"body2\" className={classes.labelText}>\r\n            {labelText}\r\n          </Typography>\r\n          <Typography variant=\"caption\" color=\"inherit\">\r\n            {labelInfo}\r\n          </Typography>\r\n        </div>\r\n      }\r\n      style={{\r\n        \"--tree-view-color\": color,\r\n        \"--tree-view-bg-color\": bgColor,\r\n      }}\r\n      classes={{\r\n        root: classes.root,\r\n        content: classes.content,\r\n        expanded: classes.expanded,\r\n        selected: classes.selected,\r\n        group: classes.group,\r\n        label: classes.label,\r\n      }}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nexport default StyledTreeItem;\r\n","import { makeStyles, Theme, createStyles } from \"@material-ui/core\";\r\nimport {\r\n  ArrowDownward,\r\n  ArrowRight,\r\n  Functions,\r\n  TrendingUp,\r\n} from \"@material-ui/icons\";\r\nimport { TreeView } from \"@material-ui/lab\";\r\nimport React from \"react\";\r\nimport { MonthlyLoadProfile } from \"../../../loadprofile/objects\";\r\n\r\nimport StyledTreeItem from \"./StyledTreeItem\";\r\n\r\ntype DetailsTreeProps = {\r\n  monthlyLoadProfile: MonthlyLoadProfile;\r\n};\r\n\r\nconst DetailsTree: React.FunctionComponent<DetailsTreeProps> = (props) => {\r\n  const { monthlyLoadProfile, ...others } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <TreeView\r\n      className={classes.root}\r\n      defaultExpanded={[\"1\"]}\r\n      defaultCollapseIcon={<ArrowDownward />}\r\n      defaultExpandIcon={<ArrowRight />}\r\n      defaultEndIcon={<div style={{ width: 24 }}></div>}\r\n    >\r\n      <StyledTreeItem\r\n        nodeId=\"2\"\r\n        labelText=\"Coincident Peak\"\r\n        labelIcon={TrendingUp}\r\n        labelInfo={\r\n          monthlyLoadProfile.coincidentPeak\r\n            ? `${monthlyLoadProfile.coincidentPeak.meteringPoint}: ${\r\n                monthlyLoadProfile.coincidentPeak.date.getMonth() + 1\r\n              }/${monthlyLoadProfile.coincidentPeak.date.getDate()}/${monthlyLoadProfile.coincidentPeak.date.getFullYear()} ${\r\n                monthlyLoadProfile.coincidentPeak.hour\r\n              }:00 kwdel: ${monthlyLoadProfile.coincidentPeak.kwdel.toFixed(2)}`\r\n            : \"\"\r\n        }\r\n      />\r\n      <StyledTreeItem\r\n        nodeId=\"3\"\r\n        labelText=\"None Coincident Peak\"\r\n        labelIcon={Functions}\r\n        labelInfo={\r\n          monthlyLoadProfile.nonCoincidentPeak\r\n            ? ` ${monthlyLoadProfile.nonCoincidentPeak.kwdel.toFixed(2)}`\r\n            : \"\"\r\n        }\r\n      />\r\n      <StyledTreeItem\r\n        nodeId=\"4\"\r\n        labelText=\"Diversity Factor:\"\r\n        labelIcon={Functions}\r\n        labelInfo={\r\n          monthlyLoadProfile.diversityFactor\r\n            ? ` ${monthlyLoadProfile.diversityFactor.factor.toFixed(2)}`\r\n            : \"\"\r\n        }\r\n      />\r\n      <StyledTreeItem\r\n        nodeId=\"5\"\r\n        labelText=\"Max per metering point:\"\r\n        labelIcon={TrendingUp}\r\n        labelInfo={\"\"}\r\n      >\r\n        {monthlyLoadProfile.loadProfilesMax.map((lpMax) => {\r\n          return (\r\n            <StyledTreeItem\r\n              key={`LM:S${lpMax.meteringPoint}`}\r\n              nodeId={`LM:S${lpMax.meteringPoint}`}\r\n              labelIcon={TrendingUp}\r\n              labelText={`${lpMax.meteringPoint}`}\r\n              labelInfo={` ${\r\n                lpMax.date.getMonth() + 1\r\n              }/${lpMax.date.getDate()}/${lpMax.date.getFullYear()} ${\r\n                lpMax.hour\r\n              }:00 kwdel: ${lpMax.kwdel.toFixed(2)}`}\r\n            />\r\n          );\r\n        })}\r\n      </StyledTreeItem>\r\n      <StyledTreeItem\r\n        nodeId=\"7\"\r\n        labelText=\"Sum per metering point:\"\r\n        labelIcon={Functions}\r\n        labelInfo={\"\"}\r\n      >\r\n        {monthlyLoadProfile.loadProfilesSum.map((lpSum) => {\r\n          return (\r\n            <StyledTreeItem\r\n              key={`LS:S${lpSum.meteringPoint}`}\r\n              nodeId={`LS:S${lpSum.meteringPoint}`}\r\n              labelIcon={Functions}\r\n              labelText={`${lpSum.meteringPoint}`}\r\n              labelInfo={` ${lpSum.kwdel.toFixed(2)}`}\r\n            />\r\n          );\r\n        })}\r\n      </StyledTreeItem>\r\n    </TreeView>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexShrink: 0,\r\n      fontSize: \"1rem\",\r\n      padding: `${theme.spacing(3)}px ${theme.spacing(1)}px`,\r\n    },\r\n  })\r\n);\r\n\r\nexport default DetailsTree;\r\n","import {\r\n  makeStyles,\r\n  Theme,\r\n  createStyles,\r\n  Typography,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport { TreeItemProps, TreeItem } from \"@material-ui/lab\";\r\nimport { LoadProfile } from \"../../../loadprofile/objects\";\r\nimport React, { useEffect } from \"react\";\r\nimport useTreeItemStyles from \"./useTreeItemStyles\";\r\n\r\ntype HourTreeItemProps = TreeItemProps & {\r\n  bgColor?: string;\r\n  color?: string;\r\n  loadProfiles: LoadProfile[];\r\n  totalLoadProfile: LoadProfile;\r\n  dateString?: string;\r\n  hour?: number;\r\n  header?: boolean;\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    labelContent: {\r\n      width: \"120px\",\r\n      fontWeight: \"normal\",\r\n      flexGrow: 1,\r\n    },\r\n  })\r\n);\r\n\r\nfunction HourTreeItem(props: HourTreeItemProps) {\r\n  const treeItemClasses = useTreeItemStyles();\r\n  const classes = useStyles();\r\n  const {\r\n    color,\r\n    bgColor,\r\n    loadProfiles,\r\n    dateString = \"\",\r\n    hour = 1,\r\n    header = false,\r\n    totalLoadProfile,\r\n    ...other\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    console.log(\"HourTreeItemRendered: Hour: \" + hour);\r\n  }, []);\r\n\r\n  return (\r\n    <TreeItem\r\n      label={\r\n        <div className={treeItemClasses.labelRoot}>\r\n          <Box minWidth=\"35px\">\r\n            {header ? (\r\n              <Typography variant=\"body2\" className={treeItemClasses.labelText}>\r\n                Hour\r\n              </Typography>\r\n            ) : (\r\n              <Typography variant=\"body2\" className={treeItemClasses.labelText}>\r\n                {hour}\r\n              </Typography>\r\n            )}\r\n          </Box>\r\n          {header\r\n            ? loadProfiles.map((loadProfile) => {\r\n                return (\r\n                  <Typography\r\n                    key={`HTI: T: M:${loadProfile.meteringPoint}`}\r\n                    variant=\"body2\"\r\n                    className={classes.labelContent}\r\n                  >\r\n                    {loadProfile.meteringPoint}\r\n                  </Typography>\r\n                );\r\n              })\r\n            : loadProfiles.map((loadProfile) => {\r\n                return (\r\n                  <Typography\r\n                    key={`HTI: T: K:${loadProfile.meteringPoint}`}\r\n                    variant=\"body2\"\r\n                    className={classes.labelContent}\r\n                  >\r\n                    {loadProfile\r\n                      .getDailyLoadProfile(dateString)\r\n                      .hourlyLoadProfiles[hour - 1].getTotalKwdel()\r\n                      .toFixed(2)}\r\n                  </Typography>\r\n                );\r\n              })}\r\n          {header ? (\r\n            <Typography\r\n              className={classes.labelContent}\r\n              variant=\"caption\"\r\n              color=\"inherit\"\r\n            >\r\n              {`Total `}\r\n            </Typography>\r\n          ) : (\r\n            <Typography\r\n              className={classes.labelContent}\r\n              variant=\"caption\"\r\n              color=\"inherit\"\r\n            >\r\n              {totalLoadProfile\r\n                .getDailyLoadProfile(dateString)\r\n                .hourlyLoadProfiles[hour - 1].getRawTotal()\r\n                .toFixed(2)}\r\n            </Typography>\r\n          )}\r\n        </div>\r\n      }\r\n      style={{\r\n        \"--tree-view-color\": color,\r\n        \"--tree-view-bg-color\": bgColor,\r\n      }}\r\n      classes={{\r\n        root: treeItemClasses.root,\r\n        content: treeItemClasses.content,\r\n        expanded: treeItemClasses.expanded,\r\n        selected: treeItemClasses.selected,\r\n        group: treeItemClasses.group,\r\n        label: treeItemClasses.label,\r\n      }}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nexport default HourTreeItem;\r\n","import {\r\n  LinearProgress,\r\n  makeStyles,\r\n  Tabs,\r\n  Theme,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport React, { ChangeEvent, useContext, useState } from \"react\";\r\nimport { HorizontalTab } from \"../../common/components/tabs\";\r\nimport DataContent from \"./data/DataContent\";\r\nimport { LoadProfileContext } from \"../../loadprofile/LoadProfileContextProvider\";\r\nimport GraphContent from \"./graph/GraphContent\";\r\n\r\ntype LoadProfileContentProps = {};\r\n\r\nenum DataTab {\r\n  DATA = \"data\",\r\n  GRAPH = \"graph\",\r\n  NONE = \"\",\r\n}\r\n\r\nconst LoadProfileContent: React.FunctionComponent<LoadProfileContentProps> = ({\r\n  ...others\r\n}) => {\r\n  const classes = useStyles();\r\n  const [selectedTab, setSelectedTab] = useState<string>(DataTab.DATA);\r\n  const loadProfileContext = useContext(LoadProfileContext);\r\n\r\n  function handleTabChange(event: ChangeEvent<{}>, newTab: string) {\r\n    setSelectedTab(newTab);\r\n  }\r\n  return (\r\n    <div className={classes.loadProfileContent_root}>\r\n      <div className={classes.loadProfileContent_Header}>\r\n        <Typography className={classes.loadProfileContent_Title} variant=\"h5\">\r\n          Load Profile\r\n        </Typography>\r\n        <Tabs\r\n          onChange={handleTabChange}\r\n          indicatorColor=\"primary\"\r\n          value={selectedTab}\r\n        >\r\n          <HorizontalTab label=\"Data\" value={DataTab.DATA} />\r\n          <HorizontalTab label=\"Graph\" value={DataTab.GRAPH} />\r\n        </Tabs>\r\n      </div>\r\n      <div className={classes.loadProfileContent_contentWrapper}>\r\n        <div className={classes.loadProfileContent_content}>\r\n          {selectedTab === DataTab.DATA && <DataContent />}\r\n          {selectedTab === DataTab.GRAPH && <GraphContent />}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  loadProfileContent_root: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    minHeight: \"0px\",\r\n    minWidth: \"0px\",\r\n  },\r\n  loadProfileContent_Header: {\r\n    display: \"flex\",\r\n    alignItems: \"flex-end\",\r\n  },\r\n  loadProfileContent_Title: {\r\n    marginRight: theme.spacing(1),\r\n    paddingRight: theme.spacing(3),\r\n    textAlign: \"center\",\r\n  },\r\n  loadProfileContent_contentWrapper: {\r\n    flex: 1,\r\n    overflow: \"auto\",\r\n    display: \"flex\",\r\n    flexWrap: \"nowrap\",\r\n  },\r\n  loadProfileContent_content: {\r\n    flex: 1,\r\n    padding: theme.spacing(5),\r\n  },\r\n}));\r\n\r\nexport default LoadProfileContent;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { LoadProfile } from \"../../../loadprofile/objects\";\r\n\r\nimport StyledTreeItem from \"./StyledTreeItem\";\r\nimport { Today } from \"@material-ui/icons\";\r\nimport { Month } from \"../../../enums\";\r\nimport HourTreeItem from \"./HourTreeItem\";\r\n\r\ntype DayTreeProps = {\r\n  loadProfiles: LoadProfile[];\r\n  totalLoadProfile: LoadProfile;\r\n  dateString: string;\r\n  nodeId: string;\r\n};\r\n\r\nconst DayTree = (props: DayTreeProps) => {\r\n  const { loadProfiles, dateString, nodeId, totalLoadProfile } = props;\r\n\r\n  const [date, setDate] = useState(new Date());\r\n\r\n  useEffect(() => {\r\n    setDate(new Date(dateString));\r\n  }, [dateString]);\r\n\r\n  return (\r\n    <StyledTreeItem\r\n      nodeId={nodeId}\r\n      labelText={`${Month[date.getMonth()]} ${date.getDate()}`}\r\n      labelIcon={Today}\r\n    >\r\n      <HourTreeItem\r\n        nodeId={`DTI:D:${dateString}H`}\r\n        dateString={dateString}\r\n        header={true}\r\n        loadProfiles={loadProfiles}\r\n        totalLoadProfile={totalLoadProfile}\r\n      />\r\n      {[...Array(24).keys()].map((hour) => {\r\n        return (\r\n          <HourTreeItem\r\n            nodeId={`HTI: H:${hour}`}\r\n            key={`HTI: H:${hour}`}\r\n            hour={hour + 1}\r\n            dateString={dateString}\r\n            loadProfiles={loadProfiles}\r\n            totalLoadProfile={totalLoadProfile}\r\n          />\r\n        );\r\n      })}\r\n    </StyledTreeItem>\r\n  );\r\n};\r\n\r\nexport default DayTree;\r\n","import React from \"react\";\r\nimport { MonthlyLoadProfile } from \"../../../loadprofile/objects\";\r\n\r\nimport { TreeView } from \"@material-ui/lab\";\r\nimport StyledTreeItem from \"./StyledTreeItem\";\r\nimport { ArrowDownward, ArrowRight, CalendarToday } from \"@material-ui/icons\";\r\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core\";\r\nimport { Month } from \"../../../enums\";\r\nimport DayTreeItem from \"./DayTreeItem\";\r\n\r\ntype MonthlyTreeProps = {\r\n  monthlyLoadProfile: MonthlyLoadProfile;\r\n};\r\n\r\nconst MonthlyTree = (props: MonthlyTreeProps) => {\r\n  const { monthlyLoadProfile } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <TreeView\r\n      className={classes.root}\r\n      defaultExpanded={[\"1\"]}\r\n      defaultCollapseIcon={<ArrowDownward />}\r\n      defaultExpandIcon={<ArrowRight />}\r\n      defaultEndIcon={<div style={{ width: 24 }} />}\r\n    >\r\n      <StyledTreeItem\r\n        nodeId=\"1\"\r\n        labelText={`${Month[monthlyLoadProfile.billingPeriod.month - 1]} ${\r\n          monthlyLoadProfile.billingPeriod.year\r\n        }`}\r\n        labelIcon={CalendarToday}\r\n      >\r\n        {[...monthlyLoadProfile.dateStrings.values()].map((dateString) => {\r\n          let loadProfiles = [\r\n            ...Array.from(monthlyLoadProfile.loadProfiles.values()),\r\n          ];\r\n          let key = `DTI:D:${dateString}`;\r\n          return (\r\n            <DayTreeItem\r\n              totalLoadProfile={monthlyLoadProfile.totalLoadpRofile}\r\n              key={key}\r\n              nodeId={key}\r\n              loadProfiles={loadProfiles}\r\n              dateString={dateString}\r\n            />\r\n          );\r\n        })}\r\n      </StyledTreeItem>\r\n    </TreeView>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexShrink: 0,\r\n      fontSize: \"1rem\",\r\n      padding: `${theme.spacing(3)}px ${theme.spacing(1)}px`,\r\n    },\r\n    title: {\r\n      fontSize: \"1.5em\",\r\n    },\r\n    dayTree: {\r\n      flexGrow: 1,\r\n      maxWidth: 400,\r\n    },\r\n  })\r\n);\r\n\r\nexport default MonthlyTree;\r\n","import { createStyles, makeStyles, Theme } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { MonthlyLoadProfile } from \"../../../loadprofile/objects\";\r\nimport DetailsTree from \"./DetailsTree\";\r\nimport MonthlyTree from \"./MonthlyTree\";\r\n\r\ntype MonthlyCardProps = {\r\n  monthlyLoadProfile: MonthlyLoadProfile;\r\n};\r\n\r\nconst MonthlyCard: React.FunctionComponent<MonthlyCardProps> = (props) => {\r\n  const { monthlyLoadProfile } = props;\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <MonthlyTree monthlyLoadProfile={monthlyLoadProfile} />\r\n      <DetailsTree monthlyLoadProfile={monthlyLoadProfile} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexShrink: 0,\r\n      flexGrow: 0,\r\n      display: \"flex\",\r\n      backgroundColor: theme.palette.background.paper,\r\n      borderRadius: theme.shape.borderRadius,\r\n      border: `1px solid ${theme.palette.divider}`,\r\n      boxSizing: \"border-box\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default MonthlyCard;\r\n","import { makeStyles, Theme } from \"@material-ui/core\";\r\nimport { LoadProfileContext } from \"../../../loadprofile/LoadProfileContextProvider\";\r\nimport React, { useContext } from \"react\";\r\n\r\nimport MonthlyCard from \"./MonthlyCard\";\r\n\r\ntype DataContentProps = {};\r\n\r\nconst DataContent: React.FunctionComponent<DataContentProps> = ({\r\n  ...others\r\n}) => {\r\n  const loadProfileContext = useContext(LoadProfileContext);\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.dataContent_content}>\r\n      {Array.from(loadProfileContext.monthlyLoadProfiles.values()).map(\r\n        (monthlyLoadProfile) => {\r\n          return (\r\n            <MonthlyCard\r\n              key={`MCM:${monthlyLoadProfile.billingPeriod.month}Y:${monthlyLoadProfile.billingPeriod.year}`}\r\n              monthlyLoadProfile={monthlyLoadProfile}\r\n            />\r\n          );\r\n        }\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  dataContent_content: {\r\n    display: \"flex\",\r\n    flexWrap: \"nowrap\",\r\n    gap: `${theme.spacing(3)}px`,\r\n    boxSizing: \"border-box\",\r\n    padding: theme.spacing(5),\r\n    width: 0,\r\n  },\r\n}));\r\n\r\nexport default DataContent;\r\n","import { AreaSeries, ArgumentScale, Stack } from \"@devexpress/dx-react-chart\";\r\nimport { scaleBand } from \"@devexpress/dx-chart-core\";\r\nimport {\r\n  ArgumentAxis,\r\n  ValueAxis,\r\n  Chart,\r\n  LineSeries,\r\n  Legend,\r\n  Title,\r\n} from \"@devexpress/dx-react-chart-material-ui\";\r\n\r\nimport {\r\n  createStyles,\r\n  makeStyles,\r\n  Paper,\r\n  Tabs,\r\n  Theme,\r\n} from \"@material-ui/core\";\r\nimport React, { ChangeEvent, useState } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { HorizontalTab } from \"../../../common/components/tabs\";\r\nimport { LoadProfileContext } from \"../../../loadprofile/LoadProfileContextProvider\";\r\n\r\nimport { MonthlyLoadProfile } from \"../../../loadprofile/objects\";\r\n\r\ntype GraphContentProps = {};\r\n\r\nconst GraphContent: React.FunctionComponent<GraphContentProps> = (\r\n  props: GraphContentProps\r\n) => {\r\n  const { ...others } = props;\r\n  const loadProfileContext = useContext(LoadProfileContext);\r\n  const classes = useStyles();\r\n\r\n  const [selectedTab, setSelectedTab] = useState<string>(\"\");\r\n\r\n  function handleTabChange(event: ChangeEvent<{}>, newTab: string) {\r\n    setSelectedTab(newTab);\r\n  }\r\n\r\n  type TabPanelProps = {\r\n    monthlyLoadProfile: MonthlyLoadProfile;\r\n    value: string;\r\n    index: string;\r\n  };\r\n\r\n  function GraphTabPanel(props: TabPanelProps) {\r\n    const { monthlyLoadProfile, value, index } = props;\r\n    if (index === value) {\r\n      return (\r\n        <Paper className={classes.graphContent}>\r\n          <Chart data={[...monthlyLoadProfile.data.values()]}>\r\n            <ArgumentScale factory={scaleBand} />\r\n            <ArgumentAxis />\r\n            <ValueAxis />\r\n            {[...monthlyLoadProfile.loadProfiles.values()].map((data) => {\r\n              return (\r\n                <LineSeries\r\n                  valueField={data.meteringPoint}\r\n                  argumentField=\"date\"\r\n                  name={data.meteringPoint}\r\n                />\r\n              );\r\n            })}\r\n            <Stack />\r\n            <Legend />\r\n            <Title\r\n              text={`Billing Period: ${monthlyLoadProfile.billingPeriod.toString()}`}\r\n            />\r\n          </Chart>\r\n        </Paper>\r\n      );\r\n    } else {\r\n      return <></>;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.graphContent_root}>\r\n      <div>\r\n        <Tabs\r\n          onChange={handleTabChange}\r\n          indicatorColor=\"primary\"\r\n          value={selectedTab}\r\n        >\r\n          {[...loadProfileContext.monthlyLoadProfiles.values()].map(\r\n            (monthlyLoadProfile) => {\r\n              return (\r\n                <HorizontalTab\r\n                  key={monthlyLoadProfile.billingPeriod.toString()}\r\n                  value={monthlyLoadProfile.billingPeriod.toString()}\r\n                  label={monthlyLoadProfile.billingPeriod.toString()}\r\n                />\r\n              );\r\n            }\r\n          )}\r\n        </Tabs>\r\n      </div>\r\n      <div className={classes.graphContent_graphsContainer}>\r\n        {[...loadProfileContext.monthlyLoadProfiles.values()].map(\r\n          (monthlyLoadpRofile) => {\r\n            return (\r\n              <GraphTabPanel\r\n                monthlyLoadProfile={monthlyLoadpRofile}\r\n                key={`TB ${monthlyLoadpRofile.billingPeriod.toString()}`}\r\n                index={monthlyLoadpRofile.billingPeriod.toString()}\r\n                value={selectedTab}\r\n              />\r\n            );\r\n          }\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    graphContent_root: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n    graphContent_graphsContainer: {\r\n      flex: 1,\r\n      flexShrink: 0,\r\n      padding: theme.spacing(4),\r\n    },\r\n    graphContent: {\r\n      padding: theme.spacing(3),\r\n    },\r\n  })\r\n);\r\n\r\nexport default GraphContent;\r\n","import { makeStyles, Tabs, Theme } from \"@material-ui/core\";\r\nimport React, { ChangeEvent, useState } from \"react\";\r\nimport { VerticalTab } from \"../common/components/tabs\";\r\nimport LoadProfileContent from \"./loadprofile/LoadProfileContent\";\r\ntype MainContentProps = {};\r\n\r\nenum ContentTabs {\r\n  LOAD_PROFILE = \"loadprofile\",\r\n  SUBSTATION_REPORT = \"substationreport\",\r\n}\r\n\r\nconst MainContent: React.FunctionComponent<MainContentProps> = ({\r\n  ...others\r\n}) => {\r\n  const classes = useStyles();\r\n  const [selectedTab, setSelectedTab] = useState<string>(\r\n    ContentTabs.LOAD_PROFILE\r\n  );\r\n\r\n  function handleTabChange(event: ChangeEvent<{}>, newTab: string) {\r\n    setSelectedTab(newTab);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.maincontent_root}>\r\n      <div className={classes.tabs_container}>\r\n        <Tabs\r\n          className={classes.tabs}\r\n          orientation=\"vertical\"\r\n          value={selectedTab}\r\n          centered={false}\r\n          indicatorColor=\"primary\"\r\n          onChange={handleTabChange}\r\n        >\r\n          <VerticalTab label=\"Load Profile\" value={ContentTabs.LOAD_PROFILE} />\r\n          <VerticalTab\r\n            label=\"Substation Report\"\r\n            value={ContentTabs.SUBSTATION_REPORT}\r\n          />\r\n        </Tabs>\r\n      </div>\r\n      <div className={classes.mainContent_content}>\r\n        {selectedTab === ContentTabs.LOAD_PROFILE && <LoadProfileContent />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  maincontent_root: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n  },\r\n  tabs_container: {\r\n    marginTop: theme.spacing(10),\r\n    maxWidth: \"300px\",\r\n    flexGrow: 0,\r\n  },\r\n  tabs: {\r\n    display: \"inline-block\",\r\n  },\r\n  mainContent_content: {\r\n    flex: 1,\r\n    width: 0,\r\n  },\r\n}));\r\n\r\nexport default MainContent;\r\n","import React, { useState } from \"react\";\r\n\r\nimport Toolbar from \"../toolbar\";\r\nimport FilesDrawer, { useStyles as filesDrawerStyles } from \"../filesdrawer\";\r\nimport clsx from \"clsx\";\r\nimport Settings from \"../settings\";\r\nimport { MainContent } from \"../maincontent\";\r\nimport { makeStyles, Theme } from \"@material-ui/core\";\r\ntype DashboardProps = {};\r\n\r\nconst Dashboard: React.FC<DashboardProps> = (props) => {\r\n  const classes = useStyles();\r\n  const filesDrawerClasses = filesDrawerStyles();\r\n\r\n  const [openFilesDrawer, setOpenFilesDrawer] = useState<boolean>(true);\r\n  const [openSettings, setOpenSettings] = useState<boolean>(false);\r\n\r\n  function handleSettingsToggle() {\r\n    setOpenSettings(true);\r\n  }\r\n\r\n  function handleSettingsUntoggle() {\r\n    setOpenSettings(false);\r\n  }\r\n\r\n  function handleFilesToggle() {\r\n    setOpenFilesDrawer(true);\r\n  }\r\n\r\n  function handleFilesUntoggle() {\r\n    setOpenFilesDrawer(false);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.dashboard_root}>\r\n      <Toolbar\r\n        onSettingsToggled={handleSettingsToggle}\r\n        onSettingsUntoggled={handleSettingsUntoggle}\r\n        onFilesToggled={handleFilesToggle}\r\n        onFilesUntoggled={handleFilesUntoggle}\r\n      />\r\n      <FilesDrawer open={openFilesDrawer} />\r\n      <div\r\n        className={clsx(classes.dashboard_content, filesDrawerClasses.content, {\r\n          [filesDrawerClasses.contentShift]: openFilesDrawer,\r\n        })}\r\n      >\r\n        {openSettings && <Settings />}\r\n        <MainContent />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  dashboard_root: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n  },\r\n  dashboard_content: {\r\n    flex: 1,\r\n    position: \"relative\",\r\n    minHeight: \"0px\",\r\n    width: 0,\r\n  },\r\n}));\r\n\r\nexport default Dashboard;\r\n","import Dashboard from \"./Dashboard\";\r\n\r\nexport default Dashboard;\r\n","import React, { FunctionComponent } from \"react\";\r\nimport {\r\n  CssBaseline,\r\n  ThemeProvider,\r\n  Box,\r\n  makeStyles,\r\n  Theme,\r\n} from \"@material-ui/core\";\r\nimport theme from \"./theme\";\r\nimport LoadProfileContextProvider from \"./loadprofile/LoadProfileContextProvider\";\r\nimport Dashboard from \"./dashboard\";\r\nimport clsx from \"clsx\";\r\n\r\ntype AppProps = {};\r\n\r\nconst App: FunctionComponent<AppProps> = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline>\r\n        <LoadProfileContextProvider>\r\n          <div className={clsx(classes.root)}>\r\n            <Dashboard />\r\n          </div>\r\n        </LoadProfileContextProvider>\r\n      </CssBaseline>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n    backgroundColor: theme.palette.background.default,\r\n  },\r\n}));\r\n\r\nexport default App;\r\n","import App from \"./App\";\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <React.Fragment>\n      <App />\n    </React.Fragment>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}